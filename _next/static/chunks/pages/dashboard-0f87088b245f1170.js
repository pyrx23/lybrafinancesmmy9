(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{51075:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(16147)}])},16147:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return $}});var t=a(85893),n=a(22267),i=a(23333),c=a(13684),l=a.n(c),o=a(67294),r=a(74971),d=a(3627),u=a.n(d);a(41664);var m=a(58507),h=a.n(m),x=a(69077),p=a(20745);let g=null;function b(e){let{content:s,duration:a,type:n}={...e},[i,c]=(0,o.useState)(!0),l=e=>{c(!1)};return setTimeout(()=>{c(!1)},a),(0,t.jsx)("div",{className:"messageTips",children:i?(0,t.jsxs)("div",{className:n,children:[(0,t.jsx)("div",{className:"justify_align_center",style:{gap:"5px"},children:(0,t.jsx)("p",{children:s})}),(0,t.jsx)("img",{src:"/images/icon/close.svg",onClick:l.bind(this),alt:"icon"})]}):null})}var v={success(e){let{content:s,duration:a}=e;g=document.createElement("div");let n=(0,t.jsx)(b,{content:s,duration:a,type:"success"});p.createRoot(g).render(n),document.body.appendChild(g)},error(e){let{content:s,duration:a}=e;g=document.createElement("div");let n=(0,t.jsx)(b,{content:s,duration:a,type:"error"});p.createRoot(g).render(n),document.body.appendChild(g)},warning(e){let{content:s,duration:a}=e;g=document.createElement("div");let n=(0,t.jsx)(b,{content:s,duration:a,type:"warning"});p.createRoot(g).render(n),document.body.appendChild(g)},info(e){let{content:s,duration:a}=e;g=document.createElement("div");let n=(0,t.jsx)(b,{content:s,duration:a,type:"info"});p.createRoot(g).render(n),document.body.appendChild(g)}},j=a(70794);function N(e){let{mode:s,safeCollateralRate:a,collateralRatioGuardia:n,setTipMessage:i,address:c,eUSD:l,CollateralRatioGuardianAbi:d,eusdAbi:u,useETHValut:m}=(0,o.useContext)(r.S),[p,g]=(0,o.useState)(!1),[b,N]=(0,o.useState)(0);(0,x.do)({address:l,abi:u,functionName:"allowance",args:[c,n],watch:!0,onSuccess(e){N(new j.Z(e._hex))}});let[S,f]=(0,o.useState)(100);(0,x.do)({address:n,abi:d,functionName:"fee",onSuccess(e){f(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let _=e=>{e.stopPropagation()},w=s=>{e.changeShowProp(s)},y=async e=>{-1!==["-","+","e","E"].indexOf(e.key)&&e.preventDefault()},[L,B]=(0,o.useState)(!1),T=async e=>{B(!L)},[R,E]=(0,o.useState)(!1),[I,k]=(0,o.useState)(),[C,D]=(0,o.useState)(),F=e=>{k(e.target.value)},H=e=>{D(e.target.value)};(0,o.useEffect)(()=>{C>1e3&&D(1e3)},[C]);let[U,M]=(0,o.useState)(!1);(0,x.do)({address:n,abi:d,functionName:"userRepaymentSettings",args:[c,m],onSuccess(e){M(e.active),B(e.active),!0==e.active&&(k(new j.Z(e[0]._hex).div(new j.Z(1e18)).toFixed()),D(new j.Z(e[1]._hex).div(new j.Z(1e18)).toFixed()))}});let{isLoading:A,write:Z,data:P}=(0,x.GG)({mode:"recklesslyUnprepared",address:b<1e26?l:n,abi:b<1e26?u:d,functionName:b<1e26?"approve":"setAutoRepayment",args:b<1e26?[n,"115792089237316195423570985008687907853269984665640564039457584007913129639935"]:[[m],[[new j.Z(I).multipliedBy(new j.Z(1e18)).toFixed(),new j.Z(C).multipliedBy(new j.Z(1e18)).toFixed(),L]]],onSuccess(e){g(!0)},onError(s){g(!1),e.updateIsLoading(!1)}});(0,x.BX)({hash:null==P?void 0:P.hash,onSuccess(s){g(!1),e.updateIsLoading(!1),e.updateIsSuccess(!0),R?i({title:"Approve eUSD",type:"success"}):(L?(i({title:"Activating CR Guardian",type:"success"}),e.changeOpen(!0)):(i({title:"Turning off CR Guardian",type:"success"}),e.changeOpen(!1)),e.changeShowProp(!1)),E(!1),setTimeout(()=>{e.updateIsSuccess(!1)},3e3)}});let q=async()=>{if(L){if(C&&I){if(C<I){v.warning({content:"The expectedCollateralRatio needs to be higher than the triggerCollateralRatio.",duration:5e3});return}if(I<=150){v.warning({content:"The triggerCollateralRatio needs to be higher than 150%",duration:5e3});return}if(C<=100*a){v.warning({content:"The expectedCollateralRatio needs to be greater than or equal to "+100*a+"%",duration:5e3});return}i({title:"Activating CR Guardian",type:"loading"}),e.updateIsLoading(!0),Z()}else{v.warning({content:"The expectedCollateralRatio needs to be higher than the triggerCollateralRatio.",duration:5e3});return}}else i({title:"Turning off CR Guardian",type:"loading"}),e.updateIsLoading(!0),Z()},O=async()=>{E(!0),i({title:"Approve eUSD",type:"loading"}),e.updateIsLoading(!0),Z()};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:0==s?"".concat(h().prop):"".concat(h().prop," ").concat(h().prop_dark),onClick:()=>w(!1),children:(0,t.jsxs)("div",{className:h().propMain,onClick:_.bind(this),children:[(0,t.jsxs)("div",{className:"justify_space_between",style:{borderBottom:"1px solid #e4e1e1",padding:"10px 20px"},children:[(0,t.jsx)("p",{className:h().title,children:"CR GUARDIAN SETTINGS"}),(0,t.jsx)("div",{className:h().closeIcon,onClick:()=>w(!1),children:(0,t.jsx)("img",{alt:"icon",src:"/images/icon/close.svg"})})]}),(0,t.jsxs)("div",{className:h().autoMain,children:[(0,t.jsxs)("div",{className:h().propCenter,children:[(0,t.jsx)("p",{style:{marginBottom:"10px"},children:"To reduce the risk of liquidation, you can set trigger and preferred collateral ratios. When your real-time collateral ratio falls below the trigger value, keepers will automatically help you repay a portion of your debt to increase your collateral ratio to your preferred setting."}),(0,t.jsxs)("span",{className:h().note,children:["Please note: ",(0,t.jsx)("br",{}),"1. Your wallet needs to hold a minimum amount of eUSD (approved and authorised for this contract) for the Keeper to operate within the parameters set.",(0,t.jsx)("br",{}),"2. When auto repayment occurs, an additional service fee of ",S," eUSD will be paid to the Keeper.",(0,t.jsx)("br",{}),"3. The Keeper is sourced from the community and is not affiliated with the Lybra team. If no calls are made, there is still a risk of liquidation."]})]}),(0,t.jsxs)("div",{className:h().propInfo,children:[(0,t.jsxs)("div",{className:h().openSwitch,children:[(0,t.jsx)("span",{children:"CR Guardian"}),(0,t.jsxs)("div",{className:h().switchSpan,children:[(0,t.jsx)("input",{className:"".concat(h().switch_btn," ").concat(h().switch_btn_animbg),type:"checkbox",checked:L,onChange:T.bind(this)}),L?(0,t.jsx)("p",{className:h().open,children:"Open"}):(0,t.jsx)("p",{className:h().close,children:"Close"})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,t.jsx)("span",{children:"Trigger Collateral Ratio"}),(0,t.jsxs)("div",{className:h().valueInput,children:[(0,t.jsx)("input",{className:"".concat(h().input," ").concat(h().setting),type:"number",placeholder:"e.g. 175",onWheel:e=>e.target.blur(),onKeyDown:y.bind(this),value:I,onChange:F.bind(this)}),(0,t.jsx)("span",{children:"%"})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,t.jsx)("span",{children:"Preferred Collateral Ratio"}),(0,t.jsxs)("div",{className:h().valueInput,children:[(0,t.jsx)("input",{className:"".concat(h().input," ").concat(h().setting),type:"number",placeholder:"e.g. 200",onWheel:e=>e.target.blur(),onKeyDown:y.bind(this),value:C,onChange:H.bind(this)}),(0,t.jsx)("span",{children:"%"})]})]})]}),(0,t.jsx)("div",{className:h().button,children:b<1e26?(0,t.jsx)("div",{className:A||p?"button disabled":"button blue",onClick:()=>A?null:O(),children:A||p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{alt:"icon",className:"loading",src:"/images/icon/loading.svg"}),"Approve eUSD"]}):(0,t.jsx)(t.Fragment,{children:"Approve eUSD"})}):U||L?(0,t.jsx)("div",{className:A||p?"button disabled":"button blue",onClick:()=>A?null:q(),children:A||p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{alt:"icon",className:"loading",src:"/images/icon/loading.svg"}),"Confirm"]}):(0,t.jsx)(t.Fragment,{children:"Confirm"})}):(0,t.jsx)("div",{className:"button disabled",children:"Confirm"})})]})]})})})}var S=a(97080);function f(e){let{withdraw:s,rate:a,assetPrice:n,reBalance:i,mintVaultMaxSupply:c,poolTotalCirculation:l,providerList:d}=e,{borrowed:m,ethPrice:h,deposited:p,safeCollateralRate:g,vaultType:b,coinType:v,useETHValut:j,CollateralRatioGuardianAbi:f,collateralRatioGuardia:_,address:w,menuIndex:y,mode:L,configurator:B,configuratorAbi:T}=(0,o.useContext)(r.S),[R,E]=(0,o.useState)(!1),I=e=>{E(e)},[k,C]=(0,o.useState)(0);(0,o.useEffect)(()=>{Number(i)>Number(m)?C(m):C(i)},[i,m]);let[D,F]=(0,o.useState)(0);(0,o.useEffect)(()=>{d&&d.amount?Number(i)<d.amount?F(i):F(d.amount):F(i)},[i,d]);let[H,U]=(0,o.useState)(!1),[M,A]=(0,o.useState)(!1),Z=async e=>{U(e)},P=async e=>{A(e)},[q,O]=(0,o.useState)(!1);(0,x.do)({address:_,abi:f,functionName:"userRepaymentSettings",args:[w,j],onSuccess(e){O(e.active)}});let V=e=>{O(e)},G=e=>e>=1e9?Number(e/1e9).toLocaleString()+"B":e>=1e6?Number(e/1e6).toLocaleString()+"M":Number(e).toLocaleString(),[W,X]=(0,o.useState)(!1);return(0,x.do)({address:B,abi:T,functionName:"getBadCollateralRatio",args:[j],onSuccess(e){X(Number(e._hex)/1e20)}}),(0,t.jsxs)("div",{className:u().overview,children:[(0,t.jsx)("p",{className:"font_bold_16",style:{marginLeft:"8px"},children:"OVERVIEW"}),0==y?(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"Cap"})}),(0,t.jsxs)("p",{children:[G(l)," / ",G(c)]})]}):null,(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"Collateral Deposited"}),(0,t.jsx)("div",{className:"showTip",children:(0,t.jsxs)("div",{className:"qaIcon",children:[(0,t.jsx)("img",{src:0==L?"/images/icon/qa.svg":"/images/icon/qa_dark.svg",alt:"qa"}),(0,t.jsxs)("div",{className:"tipMain",children:[(0,t.jsx)("div",{className:"tip-trangle-bottom"}),"Collateral Deposited: This is the amount of ETH or LST that you have deposited on Lybra Protocol in USD value based on the current market price of ETH and LST."]})]})})]}),(0,t.jsxs)("p",{children:["$",Number((p*h).toFixed(2)).toLocaleString()]})]}),(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("div",{children:(0,t.jsxs)("span",{children:[b," Minted / ",b," Debt"]})}),(0,t.jsx)("p",{children:Number(m.toFixed(2)).toLocaleString()})]}),2==y||3==y?(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("div",{children:(0,t.jsxs)("span",{children:[b," balance"]})}),(0,t.jsx)("p",{children:Number(i).toLocaleString()})]}):null,(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"Collateral Ratio"}),(0,t.jsx)("div",{className:"showTip",children:(0,t.jsxs)("div",{className:"qaIcon",children:[(0,t.jsx)("img",{src:0==L?"/images/icon/qa.svg":"/images/icon/qa_dark.svg",alt:"qa"}),(0,t.jsxs)("div",{className:"tipMain",children:[(0,t.jsx)("div",{className:"tip-trangle-bottom"}),"Collateral Ratio is expressed as a percentage and calculated by dividing the value of your deposited collateral in USD by the amount of your minted ",b,". A lower Collateral Ratio means you have less stETH backing your ",b,", which increases the risk of liquiation."]})]})})]}),(0,t.jsx)("p",{children:a>1e3?"∞":Number(a.toFixed(2)).toLocaleString()+"%"})]}),0==y||1==y?(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"Liquidation Price"}),(0,t.jsx)("div",{className:"showTip",children:(0,t.jsxs)("div",{className:"qaIcon",children:[(0,t.jsx)("img",{src:0==L?"/images/icon/qa.svg":"/images/icon/qa_dark.svg",alt:"qa"}),(0,t.jsxs)("div",{className:"tipMain",children:[(0,t.jsx)("div",{className:"tip-trangle-bottom"}),"Liquidation Price: This is the price at which your holdings may face liquidation, should market trends adversely impact your Collateral Ratio, driving it beneath the minimum required level."]})]})})]}),(0,t.jsxs)("p",{children:["$","NaN"!==(m*W/p).toFixed(2)?Number((m*W/p).toFixed(2)).toLocaleString():0]})]}):null,0==y?(0,t.jsxs)("div",{className:u().dataItem,style:{borderBottom:"none"},children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"Available to Mint "})}),a/100<=g?(0,t.jsxs)("p",{children:["0 ",b]}):"ETH"==v?(0,t.jsxs)("p",{children:[Number(((p*h/g-m)*.99).toFixed(2)).toLocaleString()," ",b]}):(0,t.jsxs)("p",{children:[Number(((p*n/g-m)*.99).toFixed(2)).toLocaleString()," ",b]})]}):null,1==y?(0,t.jsxs)("div",{className:u().dataItem,style:{borderBottom:"none"},children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"Available to Withdraw"})}),(0,t.jsxs)("p",{children:[s.toFixed(4)," ",v]})]}):null,2==y?(0,t.jsxs)("div",{className:u().dataItem,style:{borderBottom:"none"},children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"Available to Repay"})}),(0,t.jsxs)("p",{children:[Number(Math.floor(100*k)/100).toLocaleString()," ",b]})]}):null,3==y?(0,t.jsxs)("div",{className:u().dataItem,style:{borderBottom:"none"},children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"Available to Redeem"})}),(0,t.jsxs)("p",{children:[Number(Math.floor(100*D)/100).toLocaleString()," ",b]})]}):null,R?(0,t.jsx)(N,{changeShowProp:I,updateIsLoading:Z,updateIsSuccess:P,changeOpen:V}):null,H?(0,t.jsx)(S.Z,{}):null,M?(0,t.jsx)(S.Z,{}):null]})}function _(e){let{rate:s,assetPrice:a,menuIndex:n,depositNum:i,mintNum:c,amount:l}=e,{ethPrice:d,vaultType:m,deposited:h,borrowed:x,coinType:p,asCoin:g,from:b,formNetwork:v,to:j,toNetwork:N,gasfee:S}=(0,o.useContext)(r.S),[f,_]=(0,o.useState)(0);(0,o.useEffect)(()=>{let e=0;0==n?e="ETH"==p?397084:38e4:1==n?e=27e4:2==n?e=153e3:4==n&&("eUSD"==b&&"ETH"==v?e="ETH"==N?81243:275877:"peUSD"==b?e="ETH"==v?226653:230049:"LBR"==b&&(e="ETH"==v?226643:230049)),_(e*S/1e18*d)},[n,p,d,S,b,v,j,N]);let[w,y]=(0,o.useState)("Lido");return(0,o.useEffect)(()=>{"ETH"==p&&y("stETH"==g||"wstETH"==g?"Lido":"WBETH"==g?"Wrapped Binance Beacon ETH":"Rocket Pool")},[g,p]),(0,t.jsx)(t.Fragment,{children:4==n?(0,t.jsxs)("div",{className:u().dataList,children:[(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("span",{style:{width:"auto"},children:"Tx cost"}),(0,t.jsxs)("span",{children:["$",f.toFixed(6)]})]}),(0,t.jsxs)("div",{className:u().dataItem,style:{borderBottom:"none"},children:[(0,t.jsx)("span",{style:{width:"auto"},children:"Route"}),(0,t.jsxs)("span",{children:["ETH"==v?"Ethereum":"Arbitrum One"," > ","ETH"==N?"Ethereum":"Arbitrum One"]})]})]}):(0,t.jsxs)("div",{className:u().dataList,children:[(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("span",{children:"Collateral Ratio"}),(0,t.jsxs)("div",{className:u().ratio,children:[(0,t.jsx)("span",{children:s>1e3?"∞":Number(s.toFixed(2)).toLocaleString()+"%"}),0==n&&(0!==Number(i)||0!==Number(c))||n>0&&0!==Number(l)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:"/images/icon/right_arr.svg",alt:"arr"}),(0,t.jsx)("span",{style:{color:"#ffca8a"},children:0==n&&"ETH"==p?Number((Number(i)*d.toNumber()+h.toNumber()*a.toNumber())/(x.toNumber()+Number(c))*100).toFixed(2)+"%":0==n&&"ETH"!==p?x.toNumber()+Number(c)==0?"∞":Number((Number(i)*a.toNumber()+h.toNumber()*a.toNumber())/(x.toNumber()+Number(c))*100).toFixed(2)+"%":1==n?0>=x.toNumber()?"∞":Number((h.toNumber()*a.toNumber()-Number(l)*a.toNumber())/x.toNumber()*100).toFixed(2)+"%":Number(h.toNumber()*a.toNumber()/(x.toNumber()-Number(l)==0?1:x.toNumber()-Number(l))*100)>1e3?"∞":Number(h.toNumber()*a.toNumber()/(x.toNumber()-Number(l)==0?1:x.toNumber()-Number(l))*100).toFixed(2)+"%"})]}):null]})]}),(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("span",{children:"Liquidation Threshold"}),(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:"< 150%"}})]}),(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("span",{children:"Tx cost"}),(0,t.jsxs)("span",{children:["$",f.toFixed(2)]})]}),"ETH"==p?(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("span",{children:"ETH Price"}),(0,t.jsxs)("span",{children:["$",Number(d.toFixed()).toLocaleString()]})]}):(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsxs)("span",{children:[p," Price"]}),(0,t.jsxs)("span",{children:["$",Number(a.toFixed(4)).toLocaleString()]})]}),(0,t.jsxs)("div",{className:u().dataItem,style:{borderBottom:"none"},children:[(0,t.jsx)("span",{children:"Route"}),"ETH"==p?(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:Number(c)>0?p+" > "+w+" > Lybra Mint Pool > "+m:p+" > "+w+" > Lybra Mint Pool"}}):(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:0==n&&Number(c)>0||0!==n&&Number(l)>0?"Lybra Mint Pool > "+m:"Lybra Mint Pool"}})]})]})})}function w(e){let s,a,n,i;let{stethvaultAbi:c,eusdAbi:l,setTipMessage:d,userChain:u,mainnetNetId:m}=(0,o.useContext)(r.S),{depositButton:h,depositNum:p,useETHValut:g,useETH:b,coinType:N,mintButton:f,ethBalance:_,stEthBalance:w,asCoin:y,vaultType:L}=e,B=new j.Z(""==p?0:p).multipliedBy(new j.Z(1e18)),T={value:0};"ETH"==N?(n=c,i=g,s="depositEtherToMint",a=[0],T={value:B.toFixed()}):"Deposit"==h?(n=c,i=g,s="depositAssetToMint",a=[B.toFixed(),0]):(n=l,s="approve",a=[g,"115792089237316195423570985008687907853269984665640564039457"],i=b);let[R,E]=(0,o.useState)(!1),[I,k]=(0,o.useState)(!1),{isLoading:C,write:D,data:F}=(0,x.GG)({mode:"recklesslyUnprepared",address:i,abi:n,functionName:s,args:a,overrides:T,onSuccess(e){k(!0)},onError(e){k(!1)}});(0,x.BX)({hash:null==F?void 0:F.hash,onSuccess(a){k(!1),E(!0),d({title:h,type:"success"}),setTimeout(()=>{E(!1),"approve"!==s?e.clearInputValue():e.changeDepositButton()},3e3)}});let{switchNetwork:H}=(0,x.g0)(),U=async e=>{if(u!==m){H(m);return}if(!(0>=Number(p))&&p){if("ETH"==N){if("rETH"==y&&_<1){v.warning({content:"Please note that ETH deposits are currently unavailable due to a deposit limit from Rocket Pool.",duration:5e3});return}if(1>Number(p)){v.warning({content:"Deposit should not be less than 1 ETH.",duration:5e3});return}}else if("approve"!==s&&1>Number(p)){v.warning({content:"A minimum deposit of 1 "+N+" is required to mint.",duration:5e3});return}d({title:h,type:"loading"}),D()}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:C||I||"Deposit & Mint"==f||"Insufficient balance"==h||"ETH"==N&&_<=0||"ETH"!==N&&w<=0||"Enter an amount"==h||u!==m?"button disabled ":"button",onClick:()=>C||I||"Deposit & Mint"===f||"Insufficient balance"===h?null:U(),children:C||I?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),h]}):(0,t.jsx)(t.Fragment,{children:h})}),C||I?(0,t.jsx)(S.Z,{}):null,R?(0,t.jsx)(S.Z,{}):null]})}function y(e){let s,a;let{stethvaultAbi:n,setTipMessage:i,address:c,userChain:l,mainnetNetId:d}=(0,o.useContext)(r.S),{depositNum:u,useETHValut:m,coinType:h,mintNum:p,mintButton:g,depositButton:b,asCoin:N,ethBalance:f}=e,_=new j.Z(""==u?0:u).multipliedBy(new j.Z(1e18)),w=new j.Z(""==p?0:p).multipliedBy(new j.Z(1e18)),y={value:0};"ETH"==h?(y={value:_.toFixed()},0>=Number(u)?(s="mint",a=[c,w.toFixed()]):(s="depositEtherToMint",a=[w.toFixed()])):"Mint"==g?(s="mint",a=[c,w.toFixed()]):(s="depositAssetToMint",a=[_.toFixed(),w.toFixed()]);let[L,B]=(0,o.useState)(!1),[T,R]=(0,o.useState)(!1),{isLoading:E,write:I,data:k}=(0,x.GG)({mode:"recklesslyUnprepared",address:m,abi:n,functionName:s,args:a,overrides:y,onSuccess(e){R(!0)},onError(e){R(!1)}});(0,x.BX)({hash:null==k?void 0:k.hash,onSuccess(s){R(!1),B(!0),i({title:g,type:"success"}),setTimeout(()=>{B(!1),e.clearInputValue()},3e3)}});let{switchNetwork:C}=(0,x.g0)(),D=async e=>{if(l!==d){C(d);return}if(!(0>=Number(p))&&p){if("ETH"==h){if("rETH"==N&&f<1){v.warning({content:"Please note that ETH deposits are currently unavailable due to a deposit limit from Rocket Pool.",duration:5e3});return}if(1>Number(u)&&"mint"!==s){v.warning({content:"Deposit should not be less than 1 ETH.",duration:5e3});return}}else if("mint"!==s&&"approve"!==s&&1>Number(u)){v.warning({content:"A minimum deposit of 1 "+h+" is required to mint.",duration:5e3});return}i({title:g,type:"loading"}),I()}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:E||T||"Insufficient balance"==g||"Approve"==b||"Enter an amount"==g||l!==d?"button disabled ":"button",onClick:()=>E||T||"Insufficient balance"===g||"Approve"===b?null:D(),children:E||T?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),g]}):(0,t.jsx)(t.Fragment,{children:g})}),E||T?(0,t.jsx)(S.Z,{}):null,L?(0,t.jsx)(S.Z,{}):null]})}function L(e){let{address:s,eusdAbi:a,ethPrice:n,deposited:i,safeCollateralRate:c,borrowed:l,asCoin:d,setAsCoin:m,ethBalance:h,vaultType:p,gasfee:g,publicAbi:b,rETHSetting:v}=(0,o.useContext)(r.S),{coinType:N,useETHValut:S,useETH:f,assetPrice:_,depositNum:L,mintNum:B,mintVaultMaxSupply:T,poolTotalCirculation:R}=e,[E,I]=(0,o.useState)("Deposit"),[k,C]=(0,o.useState)("Mint"),[D,F]=(0,o.useState)(0),[H,U]=(0,o.useState)(!1),[M,A]=(0,o.useState)(0);(0,x.do)({address:f,abi:a,functionName:"allowance",args:[s,S],watch:!0,onSuccess(e){A(new j.Z(e._hex).div(new j.Z(1e18)))}});let[Z,P]=(0,o.useState)(0);(0,x.do)({address:v,abi:b,functionName:"getMaximumDepositAmount",watch:!0,onSuccess(e){P(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let q=async e=>{-1!==["-","+","e","E"].indexOf(e.key)&&e.preventDefault()},[O,V]=(0,o.useState)(!1),[G,W]=(0,o.useState)(!1),X=(0,o.useRef)(),Y=async s=>{e.changeDepositNum(s.target.value),en(!1),el(!1),"ETH"==N?Number(s.target.value)>D&&e.changeDepositNum(D):Number(s.target.value)>es.toFixed()&&e.changeDepositNum(es.toFixed())},K=async s=>{m(s),U(!1),el(!1),en(!1),e.changeDepositNum(""),e.changeMintNum("")},$=(0,o.useRef)(),z=async s=>{e.changeMintNum(s.target.value),el(!1),Number(s.target.value)>er&&e.changeMintNum(er)},[J,Q]=(0,o.useState)(!1),ee=async()=>{Q(!0)},[es,ea]=(0,o.useState)(0);(0,x.do)({address:f,abi:a,functionName:"balanceOf",args:[s],watch:!0,onSuccess(e){ea(new j.Z(e._hex).div(new j.Z(1e18)))}});let[et,en]=(0,o.useState)(!1),ei=()=>{"ETH"==N?e.changeDepositNum(D):e.changeDepositNum(es.toFixed()),en(!0)},[ec,el]=(0,o.useState)(!1),eo=()=>{e.changeMintNum(er),el(!0)},[er,ed]=(0,o.useState)(0);(0,o.useEffect)(()=>{let e;let s=T-R;s<(e="ETH"==N?((L||0)*n/c+(_*i/c-l))*.99:((L||0)*_/c+(_*i/c-l))*.99)?ed(s>0?s:0):ed(e>0?e:0)},[L,T,R,n,_,N,d,i,l,c]),(0,o.useEffect)(()=>{B>er&&e.changeMintNum(er)},[er]);let eu=()=>{M<Number(L)&&"ETH"!==N?(I("Approve"),C("Mint")):Number(L)>0&&B>0&&"ETH"!==N&&M>=Number(L)?C("Deposit & Mint"):Number(L)>0&&B>0&&"ETH"==N?C("Deposit & Mint"):(I("Deposit"),C("Mint")),(!L||L<=0)&&I("Enter an amount"),(!B||B<=0)&&C("Enter an amount"),"ETH"==N&&"rETH"==d&&D<1&&(C("Not Available"),I("Not Available"))};(0,o.useEffect)(()=>{e.changeDepositNum(""),e.changeMintNum(""),en(!1),el(!1)},[N]);let em=()=>{e.changeDepositNum(""),e.changeMintNum(""),en(!1),el(!1)},eh=()=>{I("Deposit")};return(0,o.useEffect)(()=>{"ETH"==N&&"rETH"==d&&h>Z?F(Z):F(h)},[N,d,h,Z]),(0,o.useEffect)(()=>{D<("ETH"==N?397084:38e4)*g/1e18&&"rETH"!==d&&s?(I("Insufficient balance"),C("Insufficient balance")):eu()},[h,s,g,N,d,L,M,B]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"".concat(u().operateMain," ").concat(u().active),children:[(0,t.jsxs)("div",{className:"justify_space_between ".concat(u().top),children:[(0,t.jsxs)("div",{className:"justify_align_center",style:{gap:"12px"},children:[(0,t.jsx)("img",{className:"boxshadow",src:"/images/logo/"+N+".svg",alt:"eth"}),(0,t.jsxs)("p",{className:u().typeTitle,children:["Deposit ",N]})]}),"ETH"==N?(0,t.jsxs)("div",{className:"".concat(u().selectDiv," ","justify_align_center"),style:{gap:"8px"},children:[(0,t.jsx)("span",{children:"Desposit as"}),(0,t.jsxs)("div",{className:"select",children:[(0,t.jsxs)("div",{className:"selectName",onClick:()=>U(!H),children:[d,(0,t.jsx)("img",{src:"/images/icon/arr.svg",alt:"arr",style:H?{transform:"rotate(180deg)"}:null})]}),H?(0,t.jsxs)("div",{className:"selectItem",children:[(0,t.jsx)("p",{onClick:()=>K("stETH"),children:"stETH"}),(0,t.jsx)("p",{onClick:()=>K("wstETH"),children:"wstETH"}),(0,t.jsx)("p",{onClick:()=>K("WBETH"),children:"WBETH"}),(0,t.jsx)("p",{onClick:()=>K("rETH"),children:"rETH"})]}):null]})]}):null]}),(0,t.jsxs)("div",{className:u().main,children:[(0,t.jsxs)("div",{className:"flex_align_start ".concat(u().available),children:[(0,t.jsx)("span",{children:"Available"}),(0,t.jsxs)("span",{children:["ETH"==N&&"rETH"==d?Number(Math.floor(1e4*D)/1e4).toLocaleString()+" "+N:"ETH"==N?Number(h).toLocaleString()+" "+N:Number(Math.floor(1e6*es.toFixed())/1e6).toLocaleString()+" "+N," "]})]}),(0,t.jsxs)("div",{className:O?"input error":"input",children:[(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"number",onWheel:e=>e.target.blur(),placeholder:"0",id:"depositNum",onKeyDown:q.bind(this),onChange:Y.bind(this),value:L,ref:X})}),(0,t.jsx)("span",{className:et?"max active":"max",onClick:()=>ei(),children:"MAX"})]}),O?(0,t.jsx)("span",{className:"balanceError",children:"Insufficient balance"}):null]}),(0,t.jsx)("div",{className:u().bottomBut,children:(0,t.jsx)(w,{asCoin:d,ethBalance:D,stEthBalance:es,clearInputValue:em,changeDepositButton:eh,depositButton:E,depositNum:L,useETH:f,useETHValut:S,coinType:N,mintNum:B,mintButton:k})})]}),(0,t.jsxs)("div",{className:er<=0||"Approve"==E?"".concat(u().operateMain," ","gray"):"".concat(u().operateMain),onClick:()=>ee(),children:[(0,t.jsx)("div",{className:"justify_space_between ".concat(u().top),children:(0,t.jsxs)("div",{className:"justify_align_center",style:{gap:"12px"},children:[(0,t.jsx)("div",{className:"boxshadow",children:(0,t.jsx)("img",{src:"eUSD"==p?"/images/icon/eUSD.svg":"/images/icon/peUSD.svg",alt:"eth"})}),(0,t.jsxs)("p",{className:u().typeTitle,children:["Mint ",p]})]})}),(0,t.jsxs)("div",{className:u().main,children:[(0,t.jsxs)("div",{className:"flex_align_start",style:{gap:"24px"},children:[(0,t.jsx)("span",{children:"Max"}),(0,t.jsxs)("span",{children:[Number(er.toFixed(2)).toLocaleString()," ",p]})]}),(0,t.jsxs)("div",{className:G?"input error":"input",children:[(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"number",onWheel:e=>e.target.blur(),placeholder:"0",id:"mintNum",onKeyDown:q.bind(this),onChange:z.bind(this),value:B,ref:$})}),(0,t.jsx)("span",{className:ec?"max active":"max",onClick:()=>"Approve"!==E?eo():null,children:"MAX"})]}),G?(0,t.jsx)("span",{className:"balanceError",children:"Insufficient balance"}):null]}),(0,t.jsx)("div",{className:u().bottomBut,children:(0,t.jsx)(y,{asCoin:d,ethBalance:D,depositButton:E,clearInputValue:em,mintButton:k,depositNum:L,useETH:f,useETHValut:S,coinType:N,mintNum:B})})]})]})}var B=a(27102),T=a.n(B);function R(e){let{maxBalance:s,amount:a}=e,{address:n,setTipMessage:i,stethvaultAbi:c,useETHValut:l,coinType:d,ethBalance:m,gasfee:h,stETHtxs:p,mode:g}=(0,o.useContext)(r.S),[b,v]=(0,o.useState)(!0),N=async()=>{let e=p.filters.DepositEther(n,null,null,null,null),s=await p.queryFilter(e,1,"latest"),a=p.filters.DepositAsset(n,null,null,null),t=await p.queryFilter(a,1,"latest"),i=s.length>0?Number(s[s.length-1].args.timestamp._hex):0,c=t.length>0?Number(t[t.length-1].args.timestamp._hex):0;var l=Number(i>c?i:c)+259200;Date.parse(new Date)/1e3>l?v(!0):v(!1)};(0,o.useEffect)(()=>{N()},[n]);let f=async e=>{-1!==["-","+","e","E"].indexOf(e.key)&&e.preventDefault()},_=(0,o.useRef)(),[w,y]=(0,o.useState)(!1),[L,B]=(0,o.useState)(!1),R=()=>{e.changeAmount(s),B(!0)},E=async a=>{e.changeAmount(a.target.value),B(!1),Number(a.target.value)>s&&e.changeAmount(s)},[I,k]=(0,o.useState)(!1),[C,D]=(0,o.useState)(!1),{isLoading:F,write:H,data:U}=(0,x.GG)({mode:"recklesslyUnprepared",address:l,abi:c,functionName:"withdraw",args:[n,new j.Z(a).multipliedBy(new j.Z(1e18)).toFixed()],onSuccess(e){D(!0)},onError(e){D(!1)}});(0,x.BX)({hash:null==U?void 0:U.hash,onSuccess(s){D(!1),k(!0),i({title:"withdraw",type:"success"}),A(!1),setTimeout(()=>{k(!1),e.changeAmount("")},3e3)}});let[M,A]=(0,o.useState)(!1),Z=async e=>{!1==b&&"stETH"==d?A(!0):(i({title:"withdraw",type:"loading"}),H())},P=async e=>{i({title:"withdraw",type:"loading"}),H()},[q,O]=(0,o.useState)(20);(0,o.useEffect)(()=>{O(14*a.toString().length<=0?20:14*a.toString().length+20)},[a]),(0,o.useEffect)(()=>{e.changeAmount(""),B(!1)},[d]);let[V,G]=(0,o.useState)("Withdraw");(0,o.useEffect)(()=>{n&&(m<153e3*h/1e18?G("Insufficient balance"):a<=0||!a?G("Enter an amount"):G("Withdraw"))},[m,n,h,d,a]);let W=e=>{e.stopPropagation()};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"".concat(u().operateMain," ").concat(u().active),children:[(0,t.jsx)("div",{className:"justify_space_between ".concat(u().top),children:(0,t.jsxs)("div",{className:"justify_align_center",style:{gap:"12px"},children:[(0,t.jsx)("img",{className:"boxshadow",src:"/images/logo/"+d+".svg",alt:"eth"}),(0,t.jsxs)("p",{className:u().typeTitle,children:["Withdraw ",d]})]})}),(0,t.jsxs)("div",{className:u().main,children:[(0,t.jsxs)("div",{className:"flex_align_start",style:{gap:"24px"},children:[(0,t.jsx)("span",{children:"Max"}),(0,t.jsxs)("span",{children:[Number(s.toFixed(4)).toLocaleString()," ",d]})]}),(0,t.jsxs)("div",{className:w?"input error":"input",children:[(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"number",onWheel:e=>e.target.blur(),placeholder:"0",id:"amount",onKeyDown:f.bind(this),onChange:E.bind(this),value:a,ref:_})}),(0,t.jsx)("span",{className:L?"max active":"max",onClick:()=>R(),children:"MAX"})]}),w?(0,t.jsx)("span",{className:"balanceError",children:"Insufficient balance"}):null]}),(0,t.jsx)("div",{className:u().bottomBut,children:(0,t.jsx)("div",{className:F||C||"Insufficient balance"==V||"Enter an amount"==V||s<=0?"button disabled ":"button",onClick:()=>!F&&a>0&&"Insufficient balance"!==V?Z():null,children:F||C?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),V]}):(0,t.jsx)(t.Fragment,{children:V})})}),F||C?(0,t.jsx)(S.Z,{}):null,I?(0,t.jsx)(S.Z,{}):null]}),M?(0,t.jsx)("div",{className:0==g?"".concat(T().eranProp):"".concat(T().eranProp," ").concat(T().eranProp_dark),onClick:()=>A(!1),children:(0,t.jsxs)("div",{className:T().propMain,onClick:W.bind(this),children:[(0,t.jsxs)("div",{className:"justify_space_between",children:[(0,t.jsx)("p",{children:V}),(0,t.jsx)("div",{className:T().closeIcon,onClick:()=>A(!1),children:(0,t.jsx)("img",{src:"/images/icon/close.svg",alt:"close"})})]}),(0,t.jsx)("div",{style:{margin:"40px 0",fontSize:"16px"},children:"A 0.1% fee will be imposed on withdrawals made within three days of deposit. Are you sure you want to proceed?"}),(0,t.jsx)("div",{className:F||C||"Insufficient balance"==V||"Enter an amount"==V||s<=0?"button disabled ":"button",onClick:()=>!F&&a>0&&"Insufficient balance"!==V?P():null,children:F||C?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),V]}):(0,t.jsx)(t.Fragment,{children:V})})]})}):null]})}function E(e){let{reBalance:s,borrowed:a,amount:n}=e,{address:i,stethvaultAbi:c,coinType:l,setTipMessage:d,useETHValut:m,vaultType:h,ethBalance:p,gasfee:g}=(0,o.useContext)(r.S),[b,v]=(0,o.useState)(0);(0,o.useEffect)(()=>{Number(s)>Number(a)?v(a):v(s)},[s,a]);let N=async e=>{-1!==["-","+","e","E"].indexOf(e.key)&&e.preventDefault()},f=(0,o.useRef)(),_=async s=>{e.changeAmount(s.target.value),B(!1),Number(s.target.value)>b&&e.changeAmount(b)},[w,y]=(0,o.useState)(!1),[L,B]=(0,o.useState)(!1),T=()=>{e.changeAmount(b),B(!0)},[R,E]=(0,o.useState)(!1),[I,k]=(0,o.useState)(!1),{isLoading:C,write:D,data:F}=(0,x.GG)({mode:"recklesslyUnprepared",address:m,abi:c,functionName:"burn",args:[i,new j.Z(n).multipliedBy(new j.Z(1e18)).toFixed()],onSuccess(e){k(!0)},onError(e){k(!1)}});(0,x.BX)({hash:null==F?void 0:F.hash,onSuccess(s){k(!1),E(!0),d({title:"Repay",type:"success"}),setTimeout(()=>{E(!1),e.changeAmount("")},3e3)}});let H=async e=>{d({title:"Repay",type:"loading"}),D()},[U,M]=(0,o.useState)(20);(0,o.useEffect)(()=>{M(14*n.toString().length<=0?20:14*n.toString().length+20)},[n]),(0,o.useEffect)(()=>{e.changeAmount(""),B(!1)},[l]);let[A,Z]=(0,o.useState)("Repay");return(0,o.useEffect)(()=>{i&&(p<27e4*g/1e18?Z("Insufficient balance"):n<=0||!n?Z("Enter an amount"):Z("Repay"))},[p,i,g,l,n]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"".concat(u().operateMain," ").concat(u().active),children:[(0,t.jsx)("div",{className:"justify_space_between ".concat(u().top),children:(0,t.jsxs)("div",{className:"justify_align_center",style:{gap:"12px"},children:[(0,t.jsx)("div",{className:"boxshadow",children:(0,t.jsx)("img",{src:"eUSD"==h?"/images/icon/eUSD.svg":"/images/icon/peUSD.svg",alt:"eth"})}),(0,t.jsxs)("p",{className:u().typeTitle,children:["Repay ",h]})]})}),(0,t.jsxs)("div",{className:u().main,children:[(0,t.jsxs)("div",{className:"flex_align_start",style:{gap:"24px"},children:[(0,t.jsx)("span",{children:"Max"}),(0,t.jsxs)("span",{children:[Number(Math.floor(100*b)/100).toLocaleString()," ",h]})]}),(0,t.jsxs)("div",{className:w?"input error":"input",children:[(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"number",onWheel:e=>e.target.blur(),placeholder:"0",id:"amount",onKeyDown:N.bind(this),onChange:_.bind(this),value:n,ref:f})}),(0,t.jsx)("span",{className:L?"max active":"max",onClick:()=>T(),children:"MAX"})]}),w?(0,t.jsx)("span",{className:"balanceError",children:"Insufficient balance"}):null]}),(0,t.jsx)("div",{className:u().bottomBut,children:(0,t.jsx)("div",{className:C||I||"Insufficient balance"==A||"Enter an amount"==A||b<=0?"button disabled ":"button",onClick:()=>!C&&n>0&&"Insufficient balance"!==A?H():null,children:C||I?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),A]}):(0,t.jsx)(t.Fragment,{children:A})})}),C||I?(0,t.jsx)(S.Z,{}):null,R?(0,t.jsx)(S.Z,{}):null]})})}function I(e){let{reBalance:s,amount:a,providerList:n,assetPrice:i}=e,{stethvaultAbi:c,useETHValut:l,vaultType:d,coinType:m,setTipMessage:h,address:p}=(0,o.useContext)(r.S),g=new j.Z(a).multipliedBy(new j.Z(1e18)),b=async e=>{-1!==["-","+","e","E"].indexOf(e.key)&&e.preventDefault()},v=(0,o.useRef)(),N=async a=>{let t;e.changeAmount(a.target.value),y(!1),t=Number(s)<n.amount?s:n.amount,Number(a.target.value)>t&&e.changeAmount(t)},[f,_]=(0,o.useState)(!1),[w,y]=(0,o.useState)(!1),L=()=>{let a;a=Number(s)<n.amount?s:n.amount,e.changeAmount(a),y(!0)},B=[n.address,g.toFixed(),new j.Z(g).div(new j.Z(i)).multipliedBy(.99).toFixed(0)],[T,R]=(0,o.useState)(!1),[E,I]=(0,o.useState)(!1),{isLoading:k,write:C,data:D}=(0,x.GG)({mode:"recklesslyUnprepared",address:l,abi:c,functionName:"rigidRedemption",args:B,onSuccess(e){I(!0)},onError(e){I(!1)}});(0,x.BX)({hash:null==D?void 0:D.hash,onSuccess(s){I(!1),R(!0),h({title:"Rigid Redemption",type:"success"}),setTimeout(()=>{R(!1),e.changeAmount("")},3e3)}});let F=async e=>{h({title:"Rigid Redemption",type:"loading"}),C()},[H,U]=(0,o.useState)(20),[M,A]=(0,o.useState)(0);(0,o.useEffect)(()=>{U(14*a.toString().length<=0?20:14*a.toString().length+20),A(Number(a)/Number(i))},[a]),(0,o.useEffect)(()=>{e.changeAmount(""),y(!1)},[m]);let[Z,P]=(0,o.useState)("Rigid Redemption");(0,o.useEffect)(()=>{a<=0||!a?P("Enter an amount"):P("Rigid Redemption")},[p,m,a]);let[q,O]=(0,o.useState)(0);return(0,o.useEffect)(()=>{n&&n.amount?Number(s)<n.amount?O(s):O(n.amount):O(s)},[s,n]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"".concat(u().operateMain," ").concat(u().active),children:[(0,t.jsx)("div",{className:"justify_space_between ".concat(u().top),children:(0,t.jsxs)("div",{className:"justify_align_center",style:{gap:"12px"},children:[(0,t.jsx)("div",{className:"boxshadow",children:(0,t.jsx)("img",{src:"eUSD"==d?"/images/icon/eUSD.svg":"/images/icon/peUSD.svg",alt:"eth"})}),(0,t.jsx)("p",{className:u().typeTitle,children:"Rigid Redemption"})]})}),(0,t.jsxs)("div",{className:u().main,children:[(0,t.jsxs)("div",{className:"flex_align_start",style:{gap:"24px"},children:[(0,t.jsx)("span",{children:"Balance"}),(0,t.jsxs)("span",{children:[Number(Math.floor(100*q)/100).toLocaleString()," ",d]})]}),(0,t.jsxs)("div",{className:f?"input error":"input",children:[(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"number",onWheel:e=>e.target.blur(),placeholder:"0",id:"amount",onKeyDown:b.bind(this),onChange:N.bind(this),value:a,ref:v})}),(0,t.jsx)("span",{className:w?"max active":"max",onClick:()=>L(),children:"MAX"})]}),f?(0,t.jsx)("span",{className:"balanceError",children:"Insufficient balance"}):null,(0,t.jsx)("div",{className:u().willReceive,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"You will receive"}),(0,t.jsxs)("p",{children:[Number(M.toFixed(4)).toLocaleString(),"/ ",Number((n.amount/i).toFixed(4)).toLocaleString(),"  ",m," from Redemption Providers"]})]})})]}),(0,t.jsx)("div",{className:u().bottomBut,children:(0,t.jsx)("div",{className:k||E||0>=(n&&n.amount)||q<=0||"Enter an amount"==Z?"button disabled ":"button",onClick:()=>!k&&a>0?F():null,children:k||E?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),Z]}):(0,t.jsx)(t.Fragment,{children:Z})})})]}),k||E?(0,t.jsx)(S.Z,{}):null,T?(0,t.jsx)(S.Z,{}):null]})}var k=a(37918),C=a.n(k);function D(e){let s,a,n,i;let{eusdAbi:c,setTipMessage:l,address:d,PeUSDMainnet:u,eUSD:m,peusdAbi:h,mainnetId:p,arbichainId:g,peUSDArbi:b,LBR:v,lbrArbi:N}=(0,o.useContext)(r.S),{omniChainButton:f,amount:_,from:w,formNetwork:y,to:L,toNetwork:B,balanceOf:T}=e,R=new(C()),[E,I]=(0,o.useState)(0);(0,o.useEffect)(()=>{d&&I(R.eth.abi.encodeParameter("address",d))},[d,R.eth.abi]);let k=new j.Z(_>0?_:0).multipliedBy(new j.Z(1e18)).toFixed(),D={value:0},[F,H]=(0,o.useState)(0);(0,x.do)({address:"LBR"==w&&"ETH"==y?v:"LBR"==w&&"ARB"==y?N:"ETH"==y&&"LBR"!==w?u:b,abi:h,functionName:"estimateSendFee",args:["ETH"==B?p:g,E,k,!1,"0x"],watch:!0,onSuccess(e){H(new j.Z(e.nativeFee._hex).toFixed())}}),"eUSD"==w&&"ETH"==y&&"peUSD"==L?"Approve"==f?(i=m,n=c,s="approve",a=[u,"115792089237316195423570985008687907853269984665640564039457"]):(i=u,n=h,"ETH"==B?(s="convertToPeUSD",a=[d,k]):(s="convertToPeUSDAndCrossChain",a=[k,g,E,[d,"0x0000000000000000000000000000000000000000","0x"]],D={from:d,value:F})):"peUSD"==w&&"ETH"==y&&"eUSD"==L?(i=u,n=h,s="convertToEUSD",a=[k]):"peUSD"==w&&"ARB"==y&&"peUSD"==L&&"ETH"==B?(i=b,n=h,s="sendFrom",a=[d,p,E,k,[d,"0x0000000000000000000000000000000000000000","0x"]],D={value:F}):"peUSD"==w&&"ETH"==y&&"peUSD"==L&&"ARB"==B?(i=u,n=h,s="sendFrom",a=[d,g,E,k,[d,"0x0000000000000000000000000000000000000000","0x"]],D={from:d,value:F}):"LBR"==w&&(i="ETH"==y?v:N,n=h,s="sendFrom",a=[d,"ARB"==B?g:p,E,k,[d,"0x0000000000000000000000000000000000000000","0x"]],D={from:d,value:F});let[U,M]=(0,o.useState)(!1),[A,Z]=(0,o.useState)(!1),{isLoading:P,write:q,data:O}=(0,x.GG)({mode:"recklesslyUnprepared",address:i,abi:n,functionName:s,args:a,overrides:D,onSuccess(e){Z(!0)},onError(e){Z(!1)}});(0,x.BX)({hash:null==O?void 0:O.hash,onSuccess(a){Z(!1),M(!0),l({title:f,type:"success"}),setTimeout(()=>{M(!1),"approve"!==s&&e.clearInputValue()},3e3)}});let V=async e=>{_>0&&(l({title:f,type:"loading"}),q())};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:P||A||"Insufficient balance"==f||T<=0||"Enter an amount"==f?"button disabled ":"button",onClick:()=>P||A||"Insufficient balance"===f||!(T>0)?null:V(),children:P||A?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),f]}):(0,t.jsx)(t.Fragment,{children:f})}),P||A?(0,t.jsx)(S.Z,{}):null,U?(0,t.jsx)(S.Z,{}):null]})}function F(){let{eUSD:e,eusdAbi:s,address:a,configurator:n,configuratorAbi:i,PeUSDMainnet:c,peusdAbi:l,peUSDArbi:d,LBR:m,lbrArbi:h,mainnetNetId:p,arbiNetId:g,from:b,setFrom:v,formNetwork:N,setFormNetwork:S,to:f,setTo:_,toNetwork:w,setToNetwork:y,ethBalance:L,gasfee:B}=(0,o.useContext)(r.S),[T,R]=(0,o.useState)(!1),{switchNetwork:E}=(0,x.g0)(),I=async e=>{v(e),R(!1)},[k,C]=(0,o.useState)(!1),F=async e=>{S(e),C(!1)},[H,U]=(0,o.useState)(!1),M=async e=>{_(e),U(!1),"LBR"==e&&v("LBR")},[A,Z]=(0,o.useState)(!1),P=async e=>{y(e),Z(!1)},q=async e=>{-1!==["-","+","e","E"].indexOf(e.key)&&e.preventDefault()},[O,V]=(0,o.useState)(!1),[G,W]=(0,o.useState)(!1),[X,Y]=(0,o.useState)(""),K=(0,o.useRef)(),$=async e=>{Y(e.target.value),W(!1),Number(e.target.value)>ev&&Y(ev)},z=()=>{Y(ev),W(!0)},J=()=>{v(f),S(w),_(b),y(N)},[Q,ee]=(0,o.useState)(20);(0,o.useEffect)(()=>{ee(14*X.toString().length<=0?20:14*X.toString().length+20)},[X]);let es=()=>{Y(""),W(!1),"LBR"==b&&(_("LBR"),y("ETH"==N?"ARB":"ETH")),"eUSD"==b&&(S("ETH"),_("peUSD")),"eUSD"==f&&y("ETH"),"peUSD"==b&&"ARB"==N&&(_("peUSD"),y("ETH")),"peUSD"==b&&"ETH"==N&&("LBR"==f?(_("peUSD"),y("ARB")):"eUSD"==f?y("ETH"):y("ARB"))};(0,o.useEffect)(()=>{es()},[b,N,f,w]),(0,o.useEffect)(()=>{a&&E&&("ETH"==N?E(p):E(g))},[N,a,E]);let[ea,et]=(0,o.useState)(0);(0,x.do)({address:e,abi:s,functionName:"balanceOf",args:[a],watch:!0,chainId:p,onSuccess(e){et(new j.Z(e._hex).div(new j.Z(1e18)))}});let[en,ei]=(0,o.useState)(0);(0,x.do)({address:n,abi:i,functionName:"getEUSDMaxLocked",watch:!0,chainId:p,onSuccess(e){ei(new j.Z(e._hex).div(new j.Z(1e18)))}});let[ec,el]=(0,o.useState)(0);(0,x.do)({address:e,abi:s,functionName:"balanceOf",watch:!0,args:[c],chainId:p,onSuccess(e){el(new j.Z(e._hex).div(new j.Z(1e18)))}});let[eo,er]=(0,o.useState)(0);(0,x.do)({address:"ETH"==N?c:d,abi:s,functionName:"balanceOf",args:[a],watch:!0,onSuccess(e){er(new j.Z(e._hex).div(new j.Z(1e18)))}});let[ed,eu]=(0,o.useState)(0);(0,x.do)({address:"ETH"==N?m:h,abi:s,functionName:"balanceOf",args:[a],watch:!0,onSuccess(e){eu(new j.Z(e._hex).div(new j.Z(1e18)))}});let[em,eh]=(0,o.useState)(0),[ex,ep]=(0,o.useState)(0),[eg,eb]=(0,o.useState)(0);(0,x.do)({address:"ETH"==N?c:d,abi:l,functionName:"userConvertInfo",args:[a],watch:!0,onSuccess(e){eh(new j.Z(e[1]._hex).div(new j.Z(1e18))),ep(new j.Z(e.depositedEUSDShares._hex)),eb(new j.Z(e.mintedPeUSD._hex))}});let[ev,ej]=(0,o.useState)(0);(0,o.useEffect)(()=>{"LBR"==b?ej(ed-0):"eUSD"==b?en-ec<ea?ej(en-ec):ej(ea-0):"peUSD"==b&&"ETH"==N&&"eUSD"==f?eo<em?ej(eo-0):ej(em-0):"peUSD"==b&&"ETH"==N&&"peUSD"==f&&"ARB"==w?ej(eo-0):"peUSD"==b&&"ARB"==N&&"peUSD"==f&&"ETH"==w&&ej(eo-0)},[b,N,f,w,ed]);let[eN,eS]=(0,o.useState)(0);(0,x.do)({address:e,abi:s,functionName:"allowance",args:[a,c],watch:!0,chainId:p,onSuccess(e){eS(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let[ef,e_]=(0,o.useState)("Convert"),ew=()=>{Y(""),W(!1)},[ey,eL]=(0,o.useState)(0),[eB,eT]=(0,o.useState)(0);return(0,o.useEffect)(()=>{if("peUSD"==b&&"ETH"==N&&"eUSD"==f&&X>0){let e=new j.Z(X>0?X:0).multipliedBy(new j.Z(1e18));eT(new j.Z(ex).multipliedBy(e).div(new j.Z(eg)).toFixed(0))}},[X,b,N,f]),(0,x.do)({address:e,abi:s,functionName:"getMintedEUSDByShares",args:[0==eB?0:eB],watch:!0,chainId:p,onSuccess(e){eL(new j.Z(e._hex).div(new j.Z(1e18))-X)}}),(0,o.useEffect)(()=>{let e=0;"eUSD"==b&&"ETH"==N?e="ETH"==w?81243:275877:"peUSD"==b?e="ETH"==N?226653:230049:"LBR"==b&&(e="ETH"==N?226643:230049),L<e*B/1e18&&a?e_("Insufficient balance"):0>=Number(X)?e_("Enter an amount"):Number(X)>eN&&"eUSD"==b&&"ETH"==N&&"peUSD"==f?e_("Approve"):e_("Convert")},[L,a,B,N,b,f,w,X,eN]),(0,t.jsxs)("div",{className:u().omniChain,children:[(0,t.jsxs)("div",{className:u().omniChainFromTo,children:[(0,t.jsxs)("div",{className:u().doubleItem,children:[(0,t.jsxs)("div",{className:u().w70,children:[(0,t.jsx)("div",{style:{display:"flex",gap:"10px"},children:(0,t.jsx)("span",{children:"From"})}),(0,t.jsxs)("div",{className:u().omniSelect,children:[(0,t.jsxs)("div",{className:u().selectName,onClick:()=>R(!T),children:[(0,t.jsxs)("div",{className:u().coin,children:[(0,t.jsx)("img",{src:"eUSD"==b?"/images/icon/eUSD.svg":"peUSD"==b?"/images/icon/peUSD.svg":"/images/logo.png",alt:"icon"}),b]}),(0,t.jsx)("img",{src:"/images/icon/arr.svg",style:T?{transform:"rotate(180deg)"}:null,alt:"arr"})]}),T?(0,t.jsxs)("div",{className:u().selectItem,children:[(0,t.jsxs)("p",{onClick:()=>I("eUSD"),children:[(0,t.jsx)("img",{src:"/images/icon/eUSD.svg",alt:"eUSD"}),"eUSD"]}),(0,t.jsxs)("p",{onClick:()=>I("peUSD"),children:[(0,t.jsx)("img",{src:"/images/icon/peUSD.svg",alt:"peUSD"}),"peUSD"]}),(0,t.jsxs)("p",{onClick:()=>I("LBR"),children:[(0,t.jsx)("img",{src:"/images/logo.png",alt:"LBR"}),"LBR"]})]}):null]})]}),(0,t.jsxs)("div",{className:u().w30,children:[(0,t.jsx)("span",{children:"Network"}),(0,t.jsxs)("div",{className:u().omniSelect,children:[(0,t.jsxs)("div",{className:u().selectName,onClick:()=>"eUSD"!==b?C(!k):null,style:{border:"none"},children:[(0,t.jsxs)("div",{className:u().coin,children:[(0,t.jsx)("img",{src:"ETH"==N?"/images/logo/ETH.svg":"/images/icon/arb.svg",alt:"icon"}),N]}),(0,t.jsx)("img",{src:"/images/icon/arr.svg",style:k?{transform:"rotate(180deg)"}:null,alt:"icon"})]}),k?(0,t.jsxs)("div",{className:u().selectItem,children:[(0,t.jsxs)("p",{onClick:()=>F("ETH"),children:[(0,t.jsx)("img",{src:"/images/logo/ETH.svg",alt:"eth"}),"ETH"]}),(0,t.jsxs)("p",{onClick:()=>F("ARB"),children:[(0,t.jsx)("img",{src:"/images/icon/arb.svg",alt:"arb"}),"ARB"]})]}):null]})]})]}),(0,t.jsx)("div",{className:u().refresh,children:(0,t.jsx)("img",{src:"/images/icon/refresh.svg",onClick:()=>J(),alt:"refresh"})}),(0,t.jsxs)("div",{className:u().doubleItem,children:[(0,t.jsxs)("div",{className:u().w70,children:[(0,t.jsx)("span",{children:"To"}),(0,t.jsxs)("div",{className:u().omniSelect,children:[(0,t.jsxs)("div",{className:u().selectName,onClick:()=>"eUSD"==b||"peUSD"==b&&"ARB"==N||"LBR"==b?null:U(!H),children:[(0,t.jsxs)("div",{className:u().coin,children:[(0,t.jsx)("img",{src:"eUSD"==f?"/images/icon/eUSD.svg":"peUSD"==f?"/images/icon/peUSD.svg":"/images/logo.png",alt:"icon"}),f]}),(0,t.jsx)("img",{src:"/images/icon/arr.svg",style:H?{transform:"rotate(180deg)"}:null,alt:"icon"})]}),H?(0,t.jsxs)("div",{className:u().selectItem,children:[(0,t.jsxs)("p",{onClick:()=>M("eUSD"),children:[(0,t.jsx)("img",{src:"/images/icon/eUSD.svg",alt:"eusd"}),"eUSD"]}),(0,t.jsxs)("p",{onClick:()=>M("peUSD"),children:[(0,t.jsx)("img",{src:"/images/icon/peUSD.svg",alt:"peUSD"}),"peUSD"]}),(0,t.jsxs)("p",{onClick:()=>M("LBR"),children:[(0,t.jsx)("img",{src:"/images/logo.png",alt:"LBR"}),"LBR"]})]}):null]})]}),(0,t.jsxs)("div",{className:u().w30,children:[(0,t.jsx)("span",{children:"Network"}),(0,t.jsxs)("div",{className:u().omniSelect,children:[(0,t.jsxs)("div",{className:u().selectName,onClick:()=>"eUSD"==f||"peUSD"==b||"LBR"==b?null:Z(!A),style:{border:"none"},children:[(0,t.jsxs)("div",{className:u().coin,children:[(0,t.jsx)("img",{src:"ETH"==w?"/images/logo/ETH.svg":"/images/icon/arb.svg",alt:"icon"}),w]}),(0,t.jsx)("img",{src:"/images/icon/arr.svg",style:A?{transform:"rotate(180deg)"}:null,alt:"arr"})]}),A?(0,t.jsxs)("div",{className:u().selectItem,children:[(0,t.jsxs)("p",{onClick:()=>P("ETH"),children:[(0,t.jsx)("img",{src:"/images/logo/ETH.svg",alt:"eth"}),"ETH"]}),(0,t.jsxs)("p",{onClick:()=>P("ARB"),children:[(0,t.jsx)("img",{src:"/images/icon/arb.svg",alt:"arb"}),"ARB"]})]}):null]})]})]})]}),(0,t.jsxs)("div",{className:u().omniChainAmount,children:[(0,t.jsx)("div",{className:"justify_space_between",children:(0,t.jsxs)("span",{style:{display:"flex",gap:"24px",alignItems:"center"},children:["Balance ",(0,t.jsxs)("span",{children:[Number(ev.toFixed(2)).toLocaleString()," ",b]})]})}),(0,t.jsxs)("div",{className:O?"input error":"input",children:[(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"number",onWheel:e=>e.target.blur(),placeholder:"0",id:"amount",onKeyDown:q.bind(this),onChange:$.bind(this),value:X,ref:K})}),(0,t.jsx)("span",{className:G?"max active":"max",onClick:()=>z(),children:"MAX"})]}),O?(0,t.jsx)("span",{className:"balanceError",children:"Insufficient balance"}):null,(0,t.jsx)("div",{className:u().willReceive,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"You will receive"}),(0,t.jsxs)("p",{children:[X>0?Number(X).toLocaleString():0," ",f,"  ","peUSD"==b&&"ETH"==N&&"eUSD"==f&&X>0?(0,t.jsxs)("span",{children:["+ ",Number(ey.toFixed(4)).toLocaleString()," eUSD"]}):null]})]})})]}),(0,t.jsx)("div",{className:u().omniChainBottom,children:(0,t.jsx)(D,{balanceOf:ev,omniChainButton:ef,amount:X,clearInputValue:ew,from:b,formNetwork:N,to:f,toNetwork:w})})]})}function H(e){let{}=e,{from:s,eUSD:a,eusdAbi:n,PeUSDMainnet:i,address:c,LBR:l,formNetwork:d,mainnetNetId:m,peUSDArbi:h,lbrArbi:p,to:g,peusdAbi:b,toNetwork:v,arbiNetId:N,configurator:S,configuratorAbi:f}=(0,o.useContext)(r.S),[_,w]=(0,o.useState)(0);(0,x.do)({address:a,abi:n,functionName:"balanceOf",args:[i],watch:!0,chainId:m,onSuccess(e){w(new j.Z(e._hex).div(new j.Z(1e18)))}});let[y,L]=(0,o.useState)(0);(0,x.do)({address:S,abi:f,functionName:"getEUSDMaxLocked",watch:!0,chainId:m,onSuccess(e){L(new j.Z(e._hex).div(new j.Z(1e18)))}});let[B,T]=(0,o.useState)(0);(0,x.do)({address:a,abi:n,functionName:"balanceOf",args:[c],watch:!0,chainId:m,onSuccess(e){T(new j.Z(e._hex).div(new j.Z(1e18)))}});let[R,E]=(0,o.useState)(0);(0,x.do)({address:"ETH"==d?i:h,abi:n,functionName:"totalSupply",watch:!0,onSuccess(e){E(new j.Z(e._hex).div(new j.Z(1e18)))}});let[I,k]=(0,o.useState)(0);(0,x.do)({address:h,abi:n,functionName:"balanceOf",args:[c],watch:!0,chainId:N,onSuccess(e){k(new j.Z(e._hex).div(new j.Z(1e18)))}});let[C,D]=(0,o.useState)(0);(0,x.do)({address:i,abi:n,functionName:"balanceOf",args:[c],watch:!0,chainId:m,onSuccess(e){D(new j.Z(e._hex).div(new j.Z(1e18)))}});let[F,H]=(0,o.useState)(0);(0,x.do)({address:"ETH"==d?l:p,abi:n,functionName:"totalSupply",watch:!0,onSuccess(e){H(new j.Z(e._hex).div(new j.Z(1e18)))}});let[U,M]=(0,o.useState)(0);(0,x.do)({address:l,abi:n,functionName:"balanceOf",args:[c],watch:!0,chainId:m,onSuccess(e){M(new j.Z(e._hex).div(new j.Z(1e18)))}});let[A,Z]=(0,o.useState)(0);(0,x.do)({address:p,abi:n,functionName:"balanceOf",args:[c],watch:!0,chainId:N,onSuccess(e){Z(new j.Z(e._hex).div(new j.Z(1e18)))}});let[P,q]=(0,o.useState)(0);(0,x.do)({address:"ETH"==d?i:h,abi:b,functionName:"userConvertInfo",args:[c],watch:!0,onSuccess(e){q(new j.Z(e[1]._hex).div(new j.Z(1e18)))}});let O=e=>e>=1e6?Number(e/1e6).toLocaleString()+"M":Number(e).toLocaleString();return(0,t.jsxs)("div",{className:u().overview,children:[(0,t.jsx)("p",{className:"font_bold_16",style:{marginLeft:"8px"},children:"OVERVIEW"}),"eUSD"==s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"Total Convertible eUSD"})}),(0,t.jsxs)("p",{children:[O(_.toFixed(2))," / ",O(y.toFixed(2))]})]}),(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"My eUSD On Ethereum"})}),(0,t.jsx)("p",{children:Number(B.toFixed(2)).toLocaleString()})]}),"ETH"==v?(0,t.jsxs)("div",{className:u().dataItem,style:{borderBottom:"none"},children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"My peUSD On Ethereum"})}),(0,t.jsx)("p",{children:Number(C.toFixed(2)).toLocaleString()})]}):(0,t.jsxs)("div",{className:u().dataItem,style:{borderBottom:"none"},children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"My peUSD On Arbitrum"})}),(0,t.jsx)("p",{children:Number(I.toFixed(2)).toLocaleString()})]})]}):"peUSD"==s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"peUSD Total Supply"})}),(0,t.jsxs)("p",{children:["$",Number(R.toFixed(2)).toLocaleString()]})]}),(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("div",{children:(0,t.jsxs)("span",{children:["My peUSD On ","ETH"==d?"Ethereum":"Arbitrum"]})}),(0,t.jsx)("p",{children:"ETH"==d?Number(C.toFixed(2)).toLocaleString():Number(I.toFixed(2)).toLocaleString()})]}),"eUSD"==g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"My eUSD On Ethereum"})}),(0,t.jsx)("p",{children:Number(B.toFixed(2)).toLocaleString()})]}),(0,t.jsxs)("div",{className:u().dataItem,style:{borderBottom:"none"},children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"Convertible peUSD"})}),(0,t.jsx)("p",{children:Number(P.toFixed(2)).toLocaleString()})]})]}):null,"peUSD"==g&&"ETH"==v?(0,t.jsxs)("div",{className:u().dataItem,style:{borderBottom:"none"},children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"My peUSD On Ethereum"})}),(0,t.jsx)("p",{children:Number(C.toFixed(2)).toLocaleString()})]}):null,"peUSD"==g&&"ARB"==v?(0,t.jsxs)("div",{className:u().dataItem,style:{borderBottom:"none"},children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"My peUSD On Arbitrum"})}),(0,t.jsx)("p",{children:Number(I.toFixed(2)).toLocaleString()})]}):null]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"LBR Total Supply"})}),(0,t.jsxs)("p",{children:["$",Number(F.toFixed(2)).toLocaleString()]})]}),(0,t.jsxs)("div",{className:u().dataItem,children:[(0,t.jsx)("div",{children:(0,t.jsxs)("span",{children:["My LBR On ","ETH"==d?"Ethereum":"Arbitrum"]})}),(0,t.jsx)("p",{children:"ETH"==d?Number(U.toFixed(2)).toLocaleString():Number(A.toFixed(2)).toLocaleString()})]}),"ETH"==v?(0,t.jsxs)("div",{className:u().dataItem,style:{borderBottom:"none"},children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"My LBR On Ethereum"})}),(0,t.jsx)("p",{children:Number(U.toFixed(2)).toLocaleString()})]}):(0,t.jsxs)("div",{className:u().dataItem,style:{borderBottom:"none"},children:[(0,t.jsx)("div",{children:(0,t.jsx)("span",{children:"My LBR On Arbitrum"})}),(0,t.jsx)("p",{children:Number(A.toFixed(2)).toLocaleString()})]})]})]})}function U(e){let{reBalance:s,amount:a}=e,{stethvaultAbi:n,helperAbi:i,helper:c,useETHValut:l,vaultType:d,coinType:m,setTipMessage:h,ethPrice:p,address:g}=(0,o.useContext)(r.S),b=new j.Z(a).multipliedBy(new j.Z(1e18)),[v,N]=(0,o.useState)(0);(0,x.do)({address:c,abi:i,functionName:"getExcessIncomeAmount",watch:!0,args:[l],onSuccess(e){N(new j.Z(e._hex).div(new j.Z(1e18)))}});let[f,_]=(0,o.useState)(0);(0,x.do)({address:l,abi:n,functionName:"getDutchAuctionDiscountPrice",watch:!0,onSuccess(e){_(new j.Z(e._hex).toFixed())}});let w=async e=>{-1!==["-","+","e","E"].indexOf(e.key)&&e.preventDefault()},y=(0,o.useRef)(),L=async s=>{e.changeAmount(s.target.value),E(!1),Number(s.target.value)>X&&e.changeAmount(X)},[B,T]=(0,o.useState)(!1),[R,E]=(0,o.useState)(!1),I=()=>{e.changeAmount(X),E(!0)},k=[new j.Z(b).div(new j.Z(p)).div(new j.Z(f)).multipliedBy(1e4).toFixed(0)],[C,D]=(0,o.useState)(!1),[F,H]=(0,o.useState)(!1),{isLoading:U,write:M,data:A}=(0,x.GG)({mode:"recklesslyUnprepared",address:l,abi:n,functionName:"excessIncomeDistribution",args:k,onSuccess(e){H(!0)},onError(e){H(!1)}});(0,x.BX)({hash:null==A?void 0:A.hash,onSuccess(s){H(!1),D(!0),h({title:"Rebase Redemption",type:"success"}),setTimeout(()=>{D(!1),e.changeAmount("")},3e3)}});let Z=async e=>{h({title:"Rebase Redemption",type:"loading"}),M()},[P,q]=(0,o.useState)(20),[O,V]=(0,o.useState)(0);(0,o.useEffect)(()=>{q(14*a.toString().length<=0?20:14*a.toString().length+20),V(new j.Z(b).div(new j.Z(p)).div(new j.Z(f)).multipliedBy(1e4).div(new j.Z(1e18)))},[a]),(0,o.useEffect)(()=>{e.changeAmount(""),E(!1)},[m]);let[G,W]=(0,o.useState)("Rebase Redemption");(0,o.useEffect)(()=>{a<=0||!a?W("Enter an amount"):W("Rebase Redemption")},[g,m,a]);let[X,Y]=(0,o.useState)(0);return(0,o.useEffect)(()=>{let e=v.toFixed()*p*f/1e4;Number(s)<e?Y(s):Y(e)},[s,v,f]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"".concat(u().operateMain," ").concat(u().active),children:[(0,t.jsx)("div",{className:"justify_space_between ".concat(u().top),children:(0,t.jsxs)("div",{className:"justify_align_center",style:{gap:"12px"},children:[(0,t.jsx)("div",{className:"boxshadow",children:(0,t.jsx)("img",{src:"eUSD"==d?"/images/icon/eUSD.svg":"/images/icon/peUSD.svg",alt:"eth"})}),(0,t.jsx)("p",{className:u().typeTitle,children:"Rebase Redemption"})]})}),(0,t.jsxs)("div",{className:u().main,children:[(0,t.jsxs)("div",{className:"flex_align_start",style:{gap:"24px"},children:[(0,t.jsx)("span",{children:"Balance"}),(0,t.jsxs)("span",{children:[Number(Math.floor(100*X)/100).toLocaleString()," ",d]})]}),(0,t.jsxs)("div",{className:B?"input error":"input",children:[(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"number",onWheel:e=>e.target.blur(),placeholder:"0",id:"amount",onKeyDown:w.bind(this),onChange:L.bind(this),value:a,ref:y})}),(0,t.jsx)("span",{className:R?"max active":"max",onClick:()=>I(),children:"MAX"})]}),B?(0,t.jsx)("span",{className:"balanceError",children:"Insufficient balance"}):null,(0,t.jsxs)("div",{className:u().willReceive,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"You will receive"}),(0,t.jsxs)("p",{children:["NaN"==O.toFixed()||1e-4>O.toFixed()?0:Number(O.toFixed(4)).toLocaleString(),"/",1e-4>v.toFixed()?0:v.toFixed(4).toLocaleString()," ",m," from ",m," Rebase Rewards"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"Current discount"}),(0,t.jsxs)("p",{children:[100-f/100,"%"]})]})]})]}),(0,t.jsx)("div",{className:u().bottomBut,children:(0,t.jsx)("div",{className:U||F||X<=0||"Enter an amount"==G?"button disabled ":"button",onClick:()=>!U&&a>0?Z():null,children:U||F?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),G]}):(0,t.jsx)(t.Fragment,{children:G})})})]}),U||F?(0,t.jsx)(S.Z,{}):null,C?(0,t.jsx)(S.Z,{}):null]})}function M(e){let{address:s,helperAbi:a,helper:n,eUSD:i,eusdAbi:c,coinType:l,setCoinType:d,stETH:m,stETHVault:h,wstETH:p,wstETHVault:g,WBETH:b,wBETHVault:v,rETH:N,rETHVault:S,asCoin:w,setAsCoin:y,useETH:B,setUseETH:T,useETHValut:k,setUseETHValut:C,PeUSDMainnet:D,vaultType:M,stethvaultAbi:A,mainnetNetId:Z,safeCollateralRate:P,configurator:q,configuratorAbi:O,addressList:V,mode:G}=(0,o.useContext)(r.S),[W,X]=(0,o.useState)(""),[Y,K]=(0,o.useState)(""),[$,z]=(0,o.useState)(""),[J,Q]=(0,o.useState)(""),ee=e=>{X(e)},es=e=>{K(e)},ea=e=>{z(e)},et=e=>{Q(e)},en=e=>{"stETH"==e||"ETH"==e?(T(m),C(h)):"wstETH"==e?(T(p),C(g)):"WBETH"==e?(T(b),C(v)):(T(N),C(S))},{menuIndex:ei}=e,ec=async s=>{d(s),"ETH"==s&&y("stETH"),e.changeShowLoadingDash(!0),setTimeout(()=>{e.changeShowLoadingDash(!1)},1500)},[el,eo]=(0,o.useState)(0);(0,x.do)({address:n,abi:a,functionName:"getWithdrawableAmount",args:[s,k],watch:!0,chainId:Z,onSuccess(e){eo(new j.Z(e._hex).div(new j.Z(1e18)))}});let[er,ed]=(0,o.useState)(2e3);(0,x.do)({address:n,abi:a,functionName:"getCollateralRatio",args:[s,k],watch:!0,chainId:Z,onSuccess(e){ed(new j.Z(e._hex).div(new j.Z(1e18)))}});let[eu,em]=(0,o.useState)(0);(0,x.do)({address:"eUSD"==M?i:D,abi:c,functionName:"balanceOf",args:[s],watch:!0,chainId:Z,onSuccess(e){em(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let[eh,ex]=(0,o.useState)(0);(0,x.do)({address:k,abi:A,functionName:"getBorrowedOf",args:[s],watch:!0,chainId:Z,onSuccess(e){let s=new j.Z(e._hex).div(new j.Z(1e18)).toFixed();2==ei&&"peUSD"==M&&Number(s)>0?ex(Number(s)+.1):ex(s)}});let[ep,eg]=(0,o.useState)(0);(0,x.do)({address:q,abi:O,functionName:"mintVaultMaxSupply",args:[k],watch:!0,onSuccess(e){eg(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let[eb,ev]=(0,o.useState)(0);(0,x.do)({address:k,abi:A,functionName:"getPoolTotalCirculation",watch:!0,onSuccess(e){ev(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let ej=[{info:"To mint "+M+", you are required to deposit a specific amount of ETH (authorizing protocol to convert ETH to "+w+") or Rebase LST as collateral. You can then mint "+M+" against your collateral up to a maximum collateral ratio of "+100*P+"%.",info2:"To mint "+M+", you are required to deposit a specific amount of "+l+" as collateral. You can then mint "+M+" against your collateral up to a maximum collateral ratio of "+100*P+"%."},{info:"When you withdraw your collateral, you receive the LST you originally deposited, which will reduce your exposure to price changes. However, it's important to note that this action can lead to a decrease in your collateral ratio and potentially expose you to the risk of liquidation if the value of ETH dips below a specified limit. To prevent any loss of funds, it's crucial to consistently keep an eye on your loan and maintain a secure collateral ratio."},{info:"Repay your eUSD/peUSD debt to increase your Collateral Ratio and reduce your exposure to the risk of liquidation. However, you won't be able to continue earning yield from this part of the eUSD once you pay it back."},{info:"At some point, you may consider exchanging your "+M+" for "+l+". The Lybra Protocol's Rigid Redemption Mechanism ensures a consistent 1:1 exchange rate between "+M+" and LST."}],[eN,eS]=(0,o.useState)(0);(0,x.do)({address:n,abi:a,functionName:"getAssetPrice",args:[k],watch:!0,chainId:Z,onSuccess(e){eS(new j.Z(e._hex).div(new j.Z(1e8)))}}),(0,o.useEffect)(()=>{en(l)},[l]),(0,o.useEffect)(()=>{en(w)},[w]);let[ef,e_]=(0,o.useState)({amount:0,address:""});return(0,x.do)({address:n,abi:a,functionName:"getRedeemableAmounts",args:[V,k],watch:!0,onSuccess(e){let s=[];for(let a=0;a<e.length;a++)s.push({amount:1e17>new j.Z(e[a]._hex).toFixed()?0:new j.Z(e[a]._hex).toFixed()/1e18,address:V[a]});s.sort(function(e,s){return s.amount-e.amount}),null!==s[0]&&void 0!==s[0]&&s[0].length>0&&e_(s[0])}}),(0,t.jsxs)("div",{className:0==G?"".concat(u().dashboardMain):"".concat(u().dashboardMain," ").concat(u().dashboardMain_dark," ","globals_dark"),children:[(0,t.jsxs)("div",{className:u().dashMain,children:[4!=ei?(0,t.jsxs)("div",{className:u().topCoinList,children:[0!=ei?(0,t.jsx)("div",{className:"".concat(u().coinItem),children:"ETH"}):(0,t.jsx)("div",{className:"ETH"==l?"".concat(u().coinItem," ").concat(u().optional," ").concat(u().active):"".concat(u().coinItem," ").concat(u().optional),onClick:()=>ec("ETH"),children:"ETH"}),(0,t.jsx)("div",{className:"stETH"==l?"".concat(u().coinItem," ").concat(u().optional," ").concat(u().active):"".concat(u().coinItem," ").concat(u().optional),onClick:()=>ec("stETH"),children:"stETH"}),(0,t.jsx)("div",{className:"wstETH"==l?"".concat(u().coinItem," ").concat(u().optional," ").concat(u().active):"".concat(u().coinItem," ").concat(u().optional),onClick:()=>ec("wstETH"),children:"wstETH"}),(0,t.jsx)("div",{className:"WBETH"==l?"".concat(u().coinItem," ").concat(u().optional," ").concat(u().active):"".concat(u().coinItem," ").concat(u().optional),onClick:()=>ec("WBETH"),children:"WBETH"}),(0,t.jsx)("div",{className:"rETH"==l?"".concat(u().coinItem," ").concat(u().optional," ").concat(u().active):"".concat(u().coinItem," ").concat(u().optional),style:{borderRight:"none"},onClick:()=>ec("rETH"),children:"rETH"})]}):null,0==ei?(0,t.jsx)(L,{mintVaultMaxSupply:ep,poolTotalCirculation:eb,coinType:l,useETH:B,useETHValut:k,assetPrice:eN,depositNum:W,mintNum:Y,changeDepositNum:ee,changeMintNum:es}):1==ei?(0,t.jsx)(R,{maxBalance:el,amount:$,changeAmount:ea}):2==ei?(0,t.jsx)(E,{reBalance:eu,borrowed:eh,amount:$,changeAmount:ea}):3==ei?(0,t.jsx)(I,{reBalance:eu,amount:$,changeAmount:ea,providerList:ef,assetPrice:eN}):(0,t.jsx)(F,{}),4!=ei?(0,t.jsx)("div",{className:u().operateDesc,children:(0,t.jsx)("span",{children:0!==ei?ej[ei].info:"ETH"==l?ej[ei].info:ej[ei].info2})}):null,3==ei&&"stETH"==l?(0,t.jsx)(U,{reBalance:eu,amount:J,changeAmount:et,providerList:ef,assetPrice:eN}):null,3==ei&&"stETH"==l?(0,t.jsx)("div",{className:u().operateDesc,children:(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:"Users can redeem their eUSD for stETH's rebase rewards in the protocol. The eUSD used for redemption will be used to trigger an eUSD rebase. The redemption is conducted in a Dutch Auction, offering a 1% discount every 30 minutes, capped at 47%."}})}):null]}),(0,t.jsxs)("div",{className:u().dashInfo,children:[4!=ei?(0,t.jsx)(f,{providerList:ef,mintVaultMaxSupply:ep,poolTotalCirculation:eb,withdraw:el,rate:er,assetPrice:eN,reBalance:eu}):(0,t.jsx)(H,{}),ei<3?(0,t.jsx)(_,{menuIndex:ei,coinType:l,rate:er,assetPrice:eN,depositNum:W,mintNum:Y,amount:$}):null,4==ei?(0,t.jsx)(_,{menuIndex:ei,coinType:l,rate:er,assetPrice:eN}):null]})]})}function A(e){let s,a,n,i,c;let{setTipMessage:l,ProtocolRewardsPool:d,ethlbrpool:u,address:m,eusdusdcpool:h,eusdusdclpToken:p,lbrethlp:g,eusdAbi:b,esLBRBoost:N,boostAbi:S,LBR:f,lpPoolAbi:_,fundAbi:w,poolAbi:y,StakingRewardsOnGoerli:L,arbpeUSDUSDClp:B}=(0,o.useContext)(r.S),{functionName:T,amount:R,type:E,unit:I,userLockStatusId:k,boostTime:C,max:D,openSwitch:F,esLBRMax:H,switchNet:U}=e;new Date().getTime();let M=new j.Z(R).multipliedBy(new j.Z(1e18)).toFixed(),[A,Z]=(0,o.useState)(!1),[P,q]=(0,o.useState)(0);((0,x.do)({address:"pool"==E?g:"LBR"==E?f:"ETH"==U?p:B,abi:b,functionName:"allowance",args:[m,"eusd"==E&&"ETH"==U?h:"eusd"==E&&"ARB"==U?L:"LBR"==E?N:u],watch:!0,onSuccess(e){q(Number(e._hex)/1e18)}}),"pool"==E)?R>P&&"Stake"==T?(a=g,i="Approve",s="approve",n=b,c=[u,"115792089237316195423570985008687907853269984665640564039457"]):(a=u,n="Stake"==T?y:_,i=T,s="Stake"==T?"stake":"withdraw",c=[M]):"eusd"==E?R>P&&"Stake"==T?(a="ETH"==U?p:B,i="Approve",s="approve",n=b,c=["ETH"==U?h:L,"115792089237316195423570985008687907853269984665640564039457"]):(a="ETH"==U?h:L,n="Stake"==T?y:_,i=T,s="Stake"==T?"stake":"withdraw",c=[M]):"LBR"==E?(s="setLockStatus",a=N,n=S,i="Lock",c=[30==k?0:90==k?1:180==k?2:3,M,!F]):(s="Stake"==T?"stake":"unstake",a=d,n=w,i=T,c=[M]);let{isLoading:O,write:V,data:G}=(0,x.GG)({mode:"recklesslyUnprepared",address:a,abi:n,functionName:s,args:c,onSuccess(e){Z(!0)},onError(s){Z(!1),e.updateIsLoading(!1)}});(0,x.BX)({hash:null==G?void 0:G.hash,onSuccess(s){"Approve"!==i&&"LBR"!==E&&e.changeShowProp(!1),Z(!1),e.updateIsLoading(!1),e.updateIsSuccess(!0),l({title:i+" "+("LBR"==E?"":I),type:"success"}),setTimeout(()=>{e.updateIsSuccess(!1)},3e3)}});var W=Date.parse(new Date);let X=async()=>{"LBR"==E&&W>0?(l({title:i+" "+("LBR"==E?"":I),type:"loading"}),e.updateIsLoading(!0),V()):("esLBR"!==I&&R>0||"esLBR"==I&&R>0)&&"LBR"!=E?(l({title:i+" "+("LBR"==E?"":I),type:"loading"}),e.updateIsLoading(!0),V()):R>0&&(F?H:D)<=0&&v.warning({content:"You have no claimable "+("LBR"==E?"":I)+".",duration:5e3})};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:O||A||"LBR"==E&&R<=0||R<=0||"LBR"==E&&W<0?"button disabled mini":"button blue  mini",onClick:()=>O?null:X(),children:O||A?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),R<=0?"Enter an amount":i," ","LBR"==E||R<=0?null:I]}):(0,t.jsxs)(t.Fragment,{children:[R<=0?"Enter an amount":i," ","LBR"==E||R<=0?null:I]})})})}function Z(e){let{mode:s}=(0,o.useContext)(r.S),[a,n]=(0,o.useState)(""),{propValue:i,type:c}=e,l=(0,o.useRef)(),d=e=>{Number(e.target.value)>Number(i.max)?n(i.max):n(e.target.value)},u=e=>{e.stopPropagation()},m=s=>{e.changeShowProp(s)},h=async s=>{e.updateIsLoading(s)},x=async s=>{e.updateIsSuccess(s)},p=async()=>{n(b?i.esLBRMax:i.max)},g=async e=>{-1!==["-","+","e","E"].indexOf(e.key)&&e.preventDefault()};(0,o.useEffect)(()=>{l.current.focus()},[]);let[b,v]=(0,o.useState)(!1);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:0==s?"".concat(T().eranProp):"".concat(T().eranProp," ").concat(T().eranProp_dark),onClick:()=>m(!1),children:(0,t.jsxs)("div",{className:T().propMain,onClick:u.bind(this),children:[(0,t.jsxs)("div",{className:"justify_space_between",children:[(0,t.jsxs)("div",{className:T().switchBtn,children:[(0,t.jsx)("p",{children:i.title}),"LBR"==c?(0,t.jsxs)("div",{className:T().switchBtn,style:{gap:"10px"},children:[(0,t.jsx)("input",{className:"switch-btn switch-btn-animbg",type:"checkbox",checked:b,onChange:()=>v(!b)}),(0,t.jsx)("span",{children:"use esLBR"})]}):null]}),(0,t.jsx)("div",{className:T().closeIcon,onClick:()=>m(!1),children:(0,t.jsx)("img",{src:"/images/icon/close.svg",alt:"close"})})]}),(0,t.jsxs)("div",{className:T().propInput,children:[(0,t.jsxs)("div",{className:"justify_space_between",children:[(0,t.jsx)("span",{children:i.title2}),(0,t.jsxs)("span",{className:"maxalitem",children:["Max:",b?(Math.floor(100*i.esLBRMax)/100).toLocaleString():(Math.floor(100*i.max)/100).toLocaleString()," ",(0,t.jsx)("span",{className:"maxBg",onClick:()=>p(),children:(0,t.jsx)("span",{className:"max",children:"MAX"})})," "]})]}),(0,t.jsxs)("div",{className:"justify_space_between",children:[(0,t.jsx)("input",{style:{width:"70%"},type:"number",onWheel:e=>e.target.blur(),value:a,onChange:d.bind(this),onKeyDown:g.bind(this),ref:l}),(0,t.jsx)("p",{className:"unit",children:i.unit})]})]}),(0,t.jsx)(A,{amount:a,openSwitch:b,type:c,switchNet:i.switchNet,max:i.max,esLBRMax:i.esLBRMax,boostTime:i.boostTime,userLockStatusId:i.userLockStatusId,functionName:i.title2,unit:i.unit,updateIsLoading:h,updateIsSuccess:x,changeShowProp:m})]})})})}function P(e){let s,a;let{setTipMessage:n,address:i,EUSDMiningIncentives:c,ProtocolRewardsPool:l,eusdusdcpool:d,EUSDMiningIncentivesAbi:u,fundAbi:m,StakingRewardsOnGoerli:h,LZEndPointAbi:p,goerliEndPoint:g,mainnetId:b,stakingRewardsOnGoerliAbi:N,arbiNetId:S,ethlbrpool:f}=(0,o.useContext)(r.S),{functionName:_,type:w,rewards:y,isOtherEarningsClaimable:L,switchNet:B}=e,[T,R]=(0,o.useState)(!1),E=new(C()),[I,k]=(0,o.useState)(0);(0,o.useEffect)(()=>{i&&3==w&&"ARB"==B&&k(E.eth.abi.encodeParameters(["address","uint256"],[i,y]))},[i,B,w]);let[D,F]=(0,o.useState)(0);(0,x.do)({address:g,abi:p,functionName:"estimateFees",args:[b,h,I,!1,"0x"],watch:!0,chainId:S,onSuccess(e){F(1.01*new j.Z(e.nativeFee._hex).toFixed())}});let H=[],U={value:0};0==w?(s=c,a=u):1==w?(s=l,a=m):2==w?(s=f,a=m):3==w&&(s="ETH"==B?d:h,a="ETH"==B?m:N,"ARB"==B&&(H=["0x0000000000000000000000000000000000000000","0x"],U={value:Number(D)}));let{isLoading:M,write:A,data:Z}=(0,x.GG)({mode:"recklesslyUnprepared",address:s,abi:a,functionName:"getReward",overrides:U,args:H,onSuccess(e){R(!0)},onError(s){R(!1),e.updateIsLoading(!1)}});(0,x.BX)({hash:null==Z?void 0:Z.hash,onSuccess(s){R(!1),e.updateIsLoading(!1),e.updateIsSuccess(!0),n({title:"Claim "+_,type:"success"}),setTimeout(()=>{e.updateIsSuccess(!1)},3e3)}});let P=async()=>{0!==Number(w)&&y>0||0==Number(w)&&!1==L&&y>0?(n({title:"Claim "+_,type:"loading"}),e.updateIsLoading(!0),A()):y<=0?v.warning({content:"You have no claimable "+_+".",duration:5e3}):0==Number(w)&&!0==L?v.warning({content:"You need to provide at least 5% mint value in dLP to become eligible for your esLBR emission.",duration:5e3}):v.warning({content:"Your lock-in period has not ended. You can't claim your esLBR now.",duration:5e3})};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:M||T||y<=0||0==Number(w)&&L?"button disabled mini":"button  mini",onClick:()=>M?null:P(),children:M||T?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),"Claim ",_]}):(0,t.jsxs)(t.Fragment,{children:["Claim ",_]})})})}function q(e){let{address:s,setTipMessage:a,ProtocolRewardsPool:n,fundAbi:i}=(0,o.useContext)(r.S),[c,l]=(0,o.useState)(!1),{isLoading:d,write:u,data:m}=(0,x.GG)({mode:"recklesslyUnprepared",address:n,abi:i,functionName:"withdraw",args:[s],onSuccess(e){l(!0)},onError(s){l(!1),e.updateIsLoading(!1)}});(0,x.BX)({hash:null==m?void 0:m.hash,onSuccess(s){l(!1),e.updateIsLoading(!1),e.updateIsSuccess(!0),a({title:"Withdraw LBR",type:"success"}),setTimeout(()=>{e.updateIsSuccess(!1)},3e3)}});let h=async()=>{e.claimable>0&&(a({title:"Withdraw LBR",type:"loading"}),e.updateIsLoading(!0),u())};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:d||c||e.claimable<=0?"button disabled mini":"button blue  mini",onClick:()=>d?null:h(),children:d||c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),"Withdraw LBR"]}):(0,t.jsx)(t.Fragment,{children:"Withdraw LBR"})})})}function O(e){let s;let{setTipMessage:a,ProtocolRewardsPool:n,fundAbi:i}=(0,o.useContext)(r.S),[c,l]=(0,o.useState)(!1),{type:d}=e;s="new"==d?"Cancel":"Cancel Old Vesting";let{isLoading:u,write:m,data:h}=(0,x.GG)({mode:"recklesslyUnprepared",address:n,abi:i,functionName:"reStake",onSuccess(e){l(!0)},onError(s){l(!1),e.updateIsLoading(!1)}});(0,x.BX)({hash:null==h?void 0:h.hash,onSuccess(t){l(!1),e.updateIsLoading(!1),e.updateIsSuccess(!0),a({title:s,type:"success"}),setTimeout(()=>{e.updateIsSuccess(!1)},3e3)}});let p=async()=>{a({title:s,type:"loading"}),e.updateIsLoading(!0),m()};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:u||c?"button disabled mini":"button blue  mini",onClick:()=>u?null:p(),children:u||c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),s,"old"==d?(0,t.jsxs)("div",{className:"".concat(T().boostQa," "),style:{textAlign:"left"},children:[(0,t.jsx)("img",{src:"/images/icon/qaw.svg",alt:"qaw"}),(0,t.jsx)("p",{className:T().tipMain,children:"The new LBR contract has been deployed. You need to cancel your old vesting before you can convert your esLBR to the new LBR."})]}):null]}):(0,t.jsxs)(t.Fragment,{children:[s,"old"==d?(0,t.jsxs)("div",{className:"".concat(T().boostQa," "),style:{textAlign:"left"},children:[(0,t.jsx)("img",{src:"/images/icon/qaw.svg",alt:"qaw"}),(0,t.jsx)("p",{className:T().tipMain,children:"The new LBR contract has been deployed. You need to cancel your old vesting before you can convert your esLBR to the new LBR."})]}):null]})})})}function V(e){let{stakedEth:s,minted:a,lpPrice:n}=e,{address:i,EUSDMiningIncentives:c,EUSDMiningIncentivesAbi:l,lbrethlp:d,eusdAbi:u,ethlbrpool:m,setTipMessage:p,poolAbi:g,mode:b}=(0,o.useContext)(r.S),[v,N]=(0,o.useState)(0);(0,x.do)({address:d,abi:u,functionName:"allowance",args:[i,m],watch:!0,onSuccess(e){N(Number(e._hex)/1e18)}});let S=s=>{e.changeShowDlpProp(s)},f=e=>{e.stopPropagation()},[_,w]=(0,o.useState)(""),y=(0,o.useRef)(),L=async e=>{w(e.target.value),Number(e.target.value)>s&&w(s)},B=async e=>{-1!==["-","+","e","E"].indexOf(e.key)&&e.preventDefault()},[T,R]=(0,o.useState)({fName:"",hyAddress:"",abi:"",args:[]}),[E,I]=(0,o.useState)("Confirm");(0,o.useEffect)(()=>{if(_){let e=new j.Z(_).multipliedBy(new j.Z(1e18)).toFixed();_>s?I("Insufficient Balance"):_>v?(I("Approve"),R({fName:"approve",hyAddress:d,abi:u,args:[m,"115792089237316195423570985008687907853269984665640564039457"]})):(I("Confirm"),R({fName:"stake",hyAddress:m,abi:g,args:[e]}))}},[_]),(0,o.useEffect)(()=>{F(_*n)},[_]);let[k,C]=(0,o.useState)(100);(0,x.do)({address:c,abi:l,functionName:"stakedLBRLpValue",args:[i],watch:!0,onSuccess(e){C(Number(e._hex)/1e18)}});let[D,F]=(0,o.useState)(0),H=()=>{let e=.1*a-k;e<=0?(F(0),w(0)):(w(e/n),F(e))},[U,M]=(0,o.useState)(!1),{isLoading:A,write:Z,data:P}=(0,x.GG)({mode:"recklesslyUnprepared",address:T.hyAddress,abi:T.abi,functionName:T.fName,args:T.args,onSuccess(e){M(!0)},onError(s){M(!1),e.updateIsLoading(!1)}});(0,x.BX)({hash:null==P?void 0:P.hash,onSuccess(s){"Approve"!==E&&w(""),M(!1),e.updateIsLoading(!1),e.updateIsSuccess(!0),p({title:E,type:"success"}),setTimeout(()=>{e.updateIsSuccess(!1),"Approve"==E?I("Confirm"):S(!1)},3e3)}});let q=()=>{_<=s&&(p({title:E,type:"loading"}),e.updateIsLoading(!0),Z())};return(0,t.jsx)("div",{className:0==b?"".concat(h().prop):"".concat(h().prop," ").concat(h().prop_dark," ","globals_dark"),onClick:()=>S(!1),children:(0,t.jsxs)("div",{className:h().propMain,onClick:f.bind(this),children:[(0,t.jsxs)("div",{className:"justify_space_between",style:{borderBottom:"1px solid #e4e1e1",padding:"10px 20px"},children:[(0,t.jsx)("p",{className:h().title,children:"Provide dLP"}),(0,t.jsx)("div",{className:h().closeIcon,onClick:()=>S(!1),children:(0,t.jsx)("img",{src:"/images/icon/close.svg",alt:"close"})})]}),(0,t.jsxs)("div",{className:h().autoMain,children:[(0,t.jsx)("div",{className:h().propCenter,children:(0,t.jsxs)("p",{style:{marginBottom:"10px"},children:["Provide at least 5% mint value ($",Number(.05*a).toLocaleString(),") in dLP (your LBR/ETH LP on Uniswap V2) to become eligible for esLBR emission from the mint pool. Use RECOMMEND to quickly maintain 10% mint value in dLP."]})}),(0,t.jsxs)("div",{className:h().propInfo,children:[(0,t.jsxs)("span",{children:["Available ",Number(Math.floor(100*s)/100).toLocaleString()," LBR/ETH LP"]}),(0,t.jsxs)("div",{className:"input propInput",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("img",{src:"/images/earn/lbrlp.svg",alt:"logo"}),(0,t.jsx)("input",{type:"number",onWheel:e=>e.target.blur(),placeholder:"0",id:"lpNum",onKeyDown:B.bind(this),onChange:L.bind(this),value:_,ref:y})]}),(0,t.jsx)("span",{className:"recommend",onClick:()=>H(),children:"RECOMMEND"})]}),(0,t.jsxs)("p",{className:h().approximate,children:["$",Number(D.toFixed(4).toLocaleString())," dLP"]}),(0,t.jsxs)("div",{className:h().valueData,children:[(0,t.jsxs)("p",{children:["Total Value of eUSD Minted ",(0,t.jsxs)("span",{children:["$",Number(a.toFixed(2)).toLocaleString()]})]}),(0,t.jsxs)("p",{children:["Minimum dLP Value Required for Emission ",(0,t.jsxs)("span",{children:["$",Number(.05*a).toLocaleString()]})]}),(0,t.jsxs)("p",{children:["Current dLP Value ",(0,t.jsxs)("span",{children:["$",Number(k).toLocaleString()]})]})]})]}),(0,t.jsx)("div",{className:h().button,children:(0,t.jsx)("div",{className:A||U||"Insufficient Balance"==E?"button disabled mini":"button blue  mini",onClick:()=>A?null:q(),children:A||U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),E]}):(0,t.jsx)(t.Fragment,{children:E})})})]})]})})}function G(e){let{setTipMessage:s,ProtocolRewardsPool:a,fundAbi:n,mainnetNetId:i,address:c,mode:l}=(0,o.useContext)(r.S),[d,u]=(0,o.useState)(!1),{vesting:m}=e,[h,p]=(0,o.useState)(0);(0,x.do)({address:a,abi:n,functionName:"getPreUnlockableAmount",watch:!0,args:[c],chainId:i,onSuccess(e){p(Number(e._hex)/1e18)}});let{isLoading:g,write:b,data:v}=(0,x.GG)({mode:"recklesslyUnprepared",address:a,abi:n,functionName:"unlockPrematurely",onSuccess(e){u(!0)},onError(s){u(!1),e.updateIsLoading(!1)}});(0,x.BX)({hash:null==v?void 0:v.hash,onSuccess(a){u(!1),e.updateIsLoading(!1),e.updateIsSuccess(!0),s({title:"Advanced Vesting",type:"success"}),setTimeout(()=>{e.updateIsSuccess(!1)},3e3)}});let j=async()=>{s({title:"Advanced Vesting",type:"loading"}),e.updateIsLoading(!0),b()},N=e=>{e.stopPropagation()},S=s=>{e.changeShowEarlyProp(s)};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:0==l?"".concat(T().eranProp):"".concat(T().eranProp," ").concat(T().eranProp_dark),onClick:()=>S(!1),children:(0,t.jsxs)("div",{className:T().propMain,onClick:N.bind(this),children:[(0,t.jsxs)("div",{className:"justify_space_between",children:[(0,t.jsx)("p",{children:"Advanced Vesting"}),(0,t.jsx)("div",{className:T().closeIcon,onClick:()=>S(!1),children:(0,t.jsx)("img",{src:"/images/icon/close.svg",alt:"close"})})]}),(0,t.jsxs)("div",{style:{margin:"40px 0",fontSize:"16px"},children:["You still have ",(0,t.jsxs)("span",{className:"colorBlue",children:[Number(m.toFixed(2)).toLocaleString()," esLBR"]})," remaining in regular vesting. If you exit now, a penalty of",(0,t.jsxs)("span",{className:"colorBlue",children:[" ",Number((m-h).toFixed(2)).toLocaleString()," esLBR"]})," will be imposed, and you will receive",(0,t.jsxs)("span",{className:"colorBlue",children:[" ",Number(h.toFixed(2)).toLocaleString()," LBR"]})," immediately. Are you sure you want to proceed?"]}),(0,t.jsx)("div",{className:g||d?"button disabled mini":"button blue  mini",onClick:()=>g?null:j(),children:g||d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),"Confirm"]}):"Confirm"})]})})})}function W(e){let{address:s,eUSD:a,EUSDMiningIncentives:n,esLBR:i,ProtocolRewardsPool:c,ethlbrpool:l,helper:d,esLBRBoost:u,eusdusdcpool:m,eusdusdclpToken:h,eusdusdccurvepool:p,LBR:g,lbrethlp:b,mode:v,txsConfig:N,eusdAbi:f,EUSDMiningIncentivesAbi:_,fundAbi:w,helperAbi:y,boostAbi:L,configuratorAbi:B,configurator:R,oracleAbi:E,PeUSDMainnet:I,StakingRewardsOnGoerli:k,arbpeUSDUSDClp:C,peUSDArbi:D,userChain:F,mainnetNetId:H,arbiNetId:U,lpOracle:M,stETHVault:W,wstETHVault:X,wBETHVault:Y,rETHVault:K,stethvaultAbi:$}=(0,o.useContext)(r.S),{switchNetwork:z}=(0,x.g0)(),[J,Q]=(0,o.useState)("ETH"),[ee,es]=(0,o.useState)("eUSD/3CRV LP");(0,o.useEffect)(()=>{Q(F==H?"ETH":"ARB"),es(F==H?"eUSD/3CRV LP":"peUSD/USDC LP")},[F,H]);let{menuIndex:ea}=e,[et,en]=(0,o.useState)(!1),{write:ei}=(0,x.GG)({mode:"recklesslyUnprepared",address:R,abi:B,functionName:"becomeRedemptionProvider",args:[!et],onSuccess(e){e2(!e1)},onError(e){en(!et)}}),ec=async e=>{en(!et),ei()},[el,eo]=(0,o.useState)(!1),[er,ed]=(0,o.useState)(),eu=async()=>{let e=N.filters.SendProtocolRewards(I,null,null),s=await N.queryFilter(e,0,"latest"),a=0;if(s.length)for(let e=0;e<s.length;e++)a+=Number(s[e].args.amount)/1e18;ed(Number(a.toFixed(2)))};(0,o.useEffect)(()=>{eu()},[s]);let[em,eh]=(0,o.useState)(0);(0,x.do)({address:u,abi:L,functionName:"getUnlockTime",args:[s],watch:!0,chainId:H,onSuccess(e){eh(1e3*Number(e))}});let[ex,ep]=(0,o.useState)(100);(0,x.do)({address:n,abi:_,functionName:"getBoost",args:[s],watch:!0,chainId:H,onSuccess(e){ep(Number(e._hex)/1e18)}});let[eg,eb]=(0,o.useState)(100);(0,x.do)({address:l,abi:_,functionName:"getBoost",args:[s],watch:!0,chainId:H,onSuccess(e){eb(Number(e._hex)/1e18)}});let[ev,ej]=(0,o.useState)(!1),eN=e=>{ej(e)},[eS,ef]=(0,o.useState)({}),[e_,ew]=(0,o.useState)(""),ey=new Date().getTime(),eL=e=>{let s={};0==e?(s={title:"LBR => esLBR",title2:"Stake",unit:"LBR",max:eI},ew(""),ef(s),ej(!0)):1==e?(s={title:"esLBR => LBR",title2:"Vest",unit:"esLBR",max:ey<em?new j.Z(e8).minus(new j.Z(sA)).toFixed():e8,boostTime:em},ew(""),ef(s),ej(!0)):2==e?(s={title:"Stake LBR/ETH LP",title2:"Stake",unit:"LBR/ETH LP",max:eA},ew("pool"),ef(s),ej(!0)):3==e?(s={title:"Unstake LBR/ETH LP",title2:"Unstake",unit:"LBR/ETH LP",max:eP},ew("pool"),ef(s),ej(!0)):4==e?(s={title:"Stake "+ee,title2:"Stake",unit:ee,max:eB,switchNet:J},ew("eusd"),ef(s),ej(!0)):5==e&&(s={title:"Unstake "+ee,title2:"Unstake",unit:ee,max:eR,switchNet:J},ew("eusd"),ef(s),ej(!0))},[eB,eT]=(0,o.useState)(0);(0,x.do)({address:"ETH"==J?h:C,abi:f,functionName:"balanceOf",args:[s],watch:!0,onSuccess(e){eT(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let[eR,eE]=(0,o.useState)(0);(0,x.do)({address:"ETH"==J?m:k,abi:f,functionName:"balanceOf",args:[s],watch:!0,onSuccess(e){eE(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let[eI,ek]=(0,o.useState)(0);(0,x.do)({address:g,abi:f,functionName:"balanceOf",args:[s],watch:!0,chainId:H,onSuccess(e){ek(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let[eC,eD]=(0,o.useState)(0);(0,x.do)({address:g,abi:f,functionName:"balanceOf",args:[b],watch:!0,chainId:H,onSuccess(e){eD(Number(e._hex)/1e18)}});let[eF,eH]=(0,o.useState)(0);(0,x.do)({address:b,abi:f,functionName:"balanceOf",args:[l],watch:!0,chainId:H,onSuccess(e){eH(Number(e._hex)/1e18)}});let[eU,eM]=(0,o.useState)(0);(0,x.do)({address:b,abi:f,functionName:"totalSupply",watch:!0,chainId:H,onSuccess(e){eM(Number(e._hex)/1e18)}});let[eA,eZ]=(0,o.useState)(0);(0,x.do)({address:b,abi:f,functionName:"balanceOf",args:[s],watch:!0,chainId:H,onSuccess(e){eZ(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let[eP,eq]=(0,o.useState)(0);(0,x.do)({address:l,abi:f,functionName:"balanceOf",args:[s],watch:!0,chainId:H,onSuccess(e){eq(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let[eO,eV]=(0,o.useState)(0);(0,x.do)({address:n,abi:_,functionName:"stakedOf",args:[s],watch:!0,chainId:H,onSuccess(e){eV(Number(e._hex)/1e18)}});let[eG,eW]=(0,o.useState)(0);(0,x.do)({address:n,abi:_,functionName:"totalStaked",watch:!0,chainId:H,onSuccess(e){eW(Number(e._hex)/1e18)}});let[eX,eY]=(0,o.useState)(0);(0,x.do)({address:n,abi:_,functionName:"rewardRatio",watch:!0,chainId:H,onSuccess(e){eY(Number(e._hex))}});let[eK,e$]=(0,o.useState)(0);(0,x.do)({address:n,abi:_,functionName:"earned",watch:!0,args:[s],chainId:H,onSuccess(e){e$(Number(e._hex)/1e18)}});let[ez,eJ]=(0,o.useState)(0);(0,x.do)({address:l,abi:_,functionName:"earned",watch:!0,args:[s],chainId:H,onSuccess(e){eJ(Number(e._hex)/1e18)}});let[eQ,e0]=(0,o.useState)(0);(0,x.do)({address:"ETH"==J?m:k,abi:_,functionName:"earned",watch:!0,args:[s],onSuccess(e){e0(Number(e._hex)/1e18)}});let[e1,e2]=(0,o.useState)(!1);(0,x.do)({address:R,abi:B,functionName:"isRedemptionProvider",args:[s],chainId:H,onSuccess(e){e2(e),en(e)}});let[e8,e3]=(0,o.useState)(0);(0,x.do)({address:i,abi:f,functionName:"balanceOf",args:[s],watch:!0,chainId:H,onSuccess(e){e3(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let[e5,e4]=(0,o.useState)(0);(0,x.do)({address:l,abi:f,functionName:"balanceOf",args:[s],watch:!0,chainId:H,onSuccess(e){e4(Number(e._hex)/1e18)}});let[e6,e7]=(0,o.useState)(0);(0,x.do)({address:"ETH"==J?m:k,abi:f,functionName:"balanceOf",args:[s],watch:!0,onSuccess(e){e7(Number(e._hex)/1e18)}});let[e9,se]=(0,o.useState)(0);(0,x.do)({address:i,abi:f,functionName:"totalSupply",watch:!0,chainId:H,onSuccess(e){se(Number(e._hex)/1e18)}});let[ss,sa]=(0,o.useState)(0);(0,x.do)({address:c,abi:w,functionName:"earned",watch:!0,args:[s],chainId:H,onSuccess(e){sa(Number(e._hex)/1e18)}});let[st,sn]=(0,o.useState)(0);(0,x.do)({address:c,abi:w,functionName:"getReservedLBRForVesting",watch:!0,args:[s],chainId:H,onSuccess(e){sn(Number(e._hex)/1e18)}});let[si,sc]=(0,o.useState)(!1),[sl,so]=(0,o.useState)(0);(0,x.do)({address:c,abi:w,functionName:"time2fullRedemption",args:[s],watch:!0,chainId:H,onSuccess(e){so(sV(Number(e)));var s=Number(e)-7516800;Date.parse(new Date)/1e3>s?sc(!0):sc(!1)}});let[sr,sd]=(0,o.useState)(0);(0,x.do)({address:c,abi:w,functionName:"getClaimAbleLBR",watch:!0,args:[s],chainId:H,onSuccess(e){sd(Number(e._hex)/1e18)}});let[su,sm]=(0,o.useState)(!1),[sh,sx]=(0,o.useState)(!1),sp=async e=>{sm(e)},sg=async e=>{sx(e)},[sb,sv]=(0,o.useState)(0);(0,x.do)({address:d,abi:y,functionName:"getStakingPoolAPR",args:[l,g,b],watch:!0,chainId:H,onSuccess(e){sv(Number(e/1e4))}});let[sj,sN]=(0,o.useState)(0);(0,x.do)({address:d,abi:y,functionName:"getTokenPrice",args:[g,b,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"],watch:!0,chainId:H,onSuccess(e){sN(Number(e/1e18))}});let[sS,sf]=(0,o.useState)(0);(0,x.do)({address:n,abi:_,functionName:"extraRatio",watch:!0,chainId:H,onSuccess(e){sf(Number(e._hex)/1e18)}});let[s_,sw]=(0,o.useState)(0);(0,x.do)({address:a,abi:f,functionName:"totalSupply",watch:!0,chainId:H,onSuccess(e){sw(Number(e._hex)/1e18)}});let[sy,sL]=(0,o.useState)(0);(0,x.do)({address:I,abi:f,functionName:"totalSupply",watch:!0,chainId:H,onSuccess(e){sL(Number(e._hex)/1e18)}});let[sB,sT]=(0,o.useState)(0);(0,x.do)({address:"0x97de57eC338AB5d51557DA3434828C5DbFaDA371",abi:f,functionName:"totalSupply",watch:!0,chainId:H,onSuccess(e){sT(Number(e._hex)/1e18)}});let[sR,sE]=(0,o.useState)(0);(0,o.useEffect)(()=>{sE(s_+sy+sB)},[s_,sy,sB]);let[sI,sk]=(0,o.useState)(0),[sC,sD]=(0,o.useState)(0),[sF,sH]=(0,o.useState)(180),[sU,sM]=(0,o.useState)(),[sA,sZ]=(0,o.useState)(0),[sP,sq]=(0,o.useState)(0);(0,x.do)({address:u,abi:L,functionName:"userLockStatus",args:[s],watch:!0,chainId:H,onSuccess(e){sZ(Number(e[0]._hex)/1e18),sq(Number(e[2]._hex)/86400);let s=parseInt(new Date().getTime()/1e3);s>Number(e.unlockTime)&&0==sI?(sD(0),sH(180),sM(0)):Number(e.duration)/86400!==sC&&0!==sF&&(sD(Number(e.duration)/86400),sM(sV(Number(e.unlockTime))),Number(e.duration)/86400!=0&&sH(Number(e.duration)/86400))}});let sO=async e=>{eo(!1),e>=sC&&(sk(e),sH(e))},sV=e=>{if(e>0){var s=new Date(1e3*e),a=s.getFullYear(),t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getMonth()],n=s.getDate();return 1==n||21==n||31==n?n+="st":2==n||22==n?n+="nd":3==n||23==n?n+="rd":n+="th",n+" "+t+" "+a}},[sG,sW]=(0,o.useState)(0);(0,x.do)({address:"ETH"==J?a:D,abi:f,functionName:"balanceOf",args:["ETH"==J?p:C],watch:!0,onSuccess(e){sW(Number(e._hex)/1e18)}});let[sX,sY]=(0,o.useState)(100);(0,x.do)({address:m,abi:_,functionName:"getBoost",args:[s],watch:!0,chainId:H,onSuccess(e){sY(Number(e._hex)/1e18)}});let[sK,s$]=(0,o.useState)(0);(0,x.do)({address:"ETH"==J?m:k,abi:_,functionName:"rewardRatio",watch:!0,onSuccess(e){s$(Number(e._hex)/1e18)}});let[sz,sJ]=(0,o.useState)(0);(0,x.do)({address:"ETH"==J?h:C,abi:f,functionName:"totalSupply",watch:!0,onSuccess(e){sJ(Number(e._hex))}});let[sQ,s0]=(0,o.useState)(0);(0,x.do)({address:"ETH"==J?h:C,abi:f,functionName:"balanceOf",args:["ETH"==J?m:k],watch:!0,onSuccess(e){s0(Number(e._hex))}});let[s1,s2]=(0,o.useState)(!1),s8=e=>{s2(e)},[s3,s5]=(0,o.useState)(0);(0,x.do)({address:u,abi:L,functionName:"getAmountNeedLocked",args:[s],watch:!0,chainId:H,onSuccess(e){s5(Number(e._hex)/1e18)}});let[s4,s6]=(0,o.useState)(!0);(0,x.do)({address:n,abi:_,functionName:"isOtherEarningsClaimable",args:[s],watch:!0,chainId:H,onSuccess(e){s6(e)}});let[s7,s9]=(0,o.useState)(!1),[ae,as]=(0,o.useState)(""),aa=(0,o.useRef)(),at=async e=>{as(e.target.value);let s=s7?e8-sA:eI;Number(e.target.value)>s&&as(s)},an=async e=>{-1!==["-","+","e","E"].indexOf(e.key)&&e.preventDefault()},ai=()=>{s9(!s7),as("")},ac=()=>{as(s7?e8-sA:eI)},[al,ao]=(0,o.useState)(!1),ar=e=>{ao(e)},[ad,au]=(0,o.useState)(0),[am,ah]=(0,o.useState)(0);(0,o.useEffect)(()=>{au(30==sF?1.05:90==sF?1.1:180==sF?1.25:365==sF?1.5:1),ah(30==sF?.05:90==sF?.1:180==sF?.25:365==sF?.5:0)},[sF]);let[ax,ap]=(0,o.useState)(0);(0,o.useEffect)(()=>{ap(0==s3?0:1+(Number(sA)+Number(ae))/s3*am>ad?ad:1+(Number(sA)+Number(ae))/s3*am)},[sF,s3,sA,ae,ad,am]);let ag=()=>{z(F==H?U:H)},[ab,av]=(0,o.useState)(0);(0,x.do)({address:M,abi:E,functionName:"latestRoundData",watch:!0,chainId:H,onSuccess(e){av(Number(e[1]/1e8))}});let[aj,aN]=(0,o.useState)(0);(0,o.useEffect)(()=>{aN(31536e5*eX*sj/eG/1e18*ex/100)},[eX,sj,eG,ex]);let[aS,af]=(0,o.useState)(0);(0,x.do)({address:W,abi:$,functionName:"getBorrowedOf",args:[s],watch:!0,chainId:H,onSuccess(e){af(Number(e._hex/1e18))}});let[a_,aw]=(0,o.useState)(0);(0,x.do)({address:X,abi:$,functionName:"getBorrowedOf",args:[s],watch:!0,chainId:H,onSuccess(e){aw(Number(e._hex/1e18))}});let[ay,aL]=(0,o.useState)(0);(0,x.do)({address:Y,abi:$,functionName:"getBorrowedOf",args:[s],watch:!0,chainId:H,onSuccess(e){aL(Number(e._hex/1e18))}});let[aB,aT]=(0,o.useState)(0);(0,x.do)({address:K,abi:$,functionName:"getBorrowedOf",args:[s],watch:!0,chainId:H,onSuccess(e){aT(Number(e._hex/1e18))}});let[aR,aE]=(0,o.useState)(0);(0,x.do)({address:"0x97de57eC338AB5d51557DA3434828C5DbFaDA371",abi:$,functionName:"getBorrowedOf",args:[s],watch:!0,chainId:H,onSuccess(e){aE(Number(e._hex/1e18))}});let[aI,ak]=(0,o.useState)(0),[aC,aD]=(0,o.useState)(0);return(0,o.useEffect)(()=>{let e=aS+a_+ay+aB+aR;e>0&&(ak(aj*eO/e),aD(e))},[aS,a_,ay,aB,aR,aj,eO]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:0==v?"".concat(T().earn):"".concat(T().earn," ").concat(T().earn_dark," ","globals_dark"),children:[5==ea?(0,t.jsx)("div",{className:"section earnSection",children:(0,t.jsx)("div",{className:"section_w",children:(0,t.jsxs)("div",{className:"".concat(T().earnCards," ").concat(T().mainCard," "),children:[(0,t.jsxs)("div",{className:"".concat(T().card," ").concat(T().earnh5Card," ").concat(T().boostCard),style:{height:"436px"},children:[(0,t.jsxs)("div",{className:T().cardTitle,children:[(0,t.jsx)("img",{src:"images/logo.png",alt:"logo"}),"Boost"]}),(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsxs)("div",{className:T().cardContent,children:[(0,t.jsxs)("div",{className:"flex_between_end",children:[(0,t.jsxs)("div",{className:T().switchBtn,style:{gap:"10px",display:"flex",alignItems:"center"},children:[(0,t.jsx)("span",{children:"LBR"}),(0,t.jsx)("input",{className:"switch-btn switch-btn-animbg",type:"checkbox",checked:s7,onChange:()=>ai()}),(0,t.jsx)("span",{children:"esLBR"})]}),(0,t.jsxs)("div",{children:["Available"," ",s7?(Math.floor((e8-sA)*100)/100).toLocaleString()+" esLBR":(Math.floor(100*eI)/100).toLocaleString()+" LBR"]})]}),(0,t.jsxs)("div",{className:"input propInput",style:{marginTop:"0"},children:[(0,t.jsxs)("div",{className:"propFlex",children:[(0,t.jsx)("img",{src:"/images/logo.png",alt:"logo"}),(0,t.jsx)("input",{type:"number",onWheel:e=>e.target.blur(),placeholder:"0",id:"stakeNum",onKeyDown:an.bind(this),onChange:at.bind(this),value:ae,ref:aa})]}),(0,t.jsx)("span",{className:"recommend",onClick:()=>ac(),children:"MAX"})]}),(0,t.jsxs)("div",{className:"".concat(T().cardRow," ").concat(T().cardRowcenter),children:[(0,t.jsx)("div",{className:T().label,children:"Lock Duration"}),(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"".concat(T().selectDuration),children:(0,t.jsxs)("div",{className:"select",children:[(0,t.jsxs)("div",{className:"selectName",onClick:()=>eo(!el),children:[30==sF?"1 Month":90==sF?"3 Months":180==sF?"6 Months":"12 Months",(0,t.jsx)("img",{src:"/images/icon/arr.svg",alt:"arr",style:el?{transform:"rotate(180deg)"}:null})]}),el?(0,t.jsxs)("div",{className:"selectItem",children:[(0,t.jsx)("p",{onClick:()=>sO(30),children:"1 Month"}),(0,t.jsx)("p",{onClick:()=>sO(90),children:"3 Months"}),(0,t.jsx)("p",{onClick:()=>sO(180),children:"6 Months"}),(0,t.jsx)("p",{onClick:()=>sO(365),children:"12 Months"})]}):null]})})})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Multiplier"}),(0,t.jsxs)("div",{children:[ad,"x"]})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Lockable Threshold"}),(0,t.jsx)("div",{children:s3.toLocaleString()})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Maturity Date"}),(0,t.jsx)("div",{children:sU||"NA"})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Locked esLBR"}),(0,t.jsx)("div",{children:sA.toLocaleString()})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Boost"}),(0,t.jsxs)("div",{children:[ax,"x"]})]})]}),(0,t.jsxs)("div",{className:T().cardBottom,children:[(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsx)("div",{className:"buttonMini",children:(0,t.jsx)(A,{amount:ae,openSwitch:s7,type:"LBR",max:eI,esLBRMax:e8-sA,boostTime:em,userLockStatusId:0==sI&&0==sP?180:0!==sI?sI:sP,functionName:"Stake",unit:"LBR",updateIsLoading:sp,updateIsSuccess:sg})})]})]}),(0,t.jsx)("div",{className:T().boostTipCard,children:(0,t.jsx)("div",{className:T().htmlBody,dangerouslySetInnerHTML:{__html:"<div>eUSD and peUSD minters can boost their esLBR emission from the mint pool by up to 1.5x by locking LBR or esLBR for a specific duration. Here are the rules:</div><p style={{'marginTop':'10px'}}>1. Boost = (LBR or esLBR Locked) / esLBR lockable threshold * time weight.</p><p>2. esLBR lockable threshold = your loan value in USD / overall loan value in USD * total circulation of LBR and esLBR.</p><p>3. Once you choose a lock period, you can only extend it, not decrease it. If you re-lock your esLBR during the lock period, the period will start again.</p><p>4. You can choose to lock your esLBR beyond the esLBR Lockable Threshold, but your maximum boost will still be based on the esLBR lockable threshold.</p><p>5. You will enjoy both boosted APR and protocol revenue while locking in Boost.</p>"}})})]})})}):null,6==ea?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"button wrong ".concat(T().connectButton),onClick:()=>ag(),children:["Switch To ","ETH"==J?"Arb":"ETH"]}),(0,t.jsx)("div",{className:"section earnSection",children:(0,t.jsx)("div",{className:"section_w",children:(0,t.jsxs)("div",{className:T().earnCards,children:["ETH"==J?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"".concat(T().card," ").concat(T().earnh5Card),style:{height:"370px"},children:[(0,t.jsx)("div",{className:"".concat(T().cardTitle," ").concat(T().cardphase),children:(0,t.jsxs)("div",{className:T().phaseTitle,children:[(0,t.jsx)("img",{src:"/images/icon/eUSD.svg",alt:"eusdpool"}),"Mint Pool"]})}),(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsxs)("div",{className:T().cardContent,children:[(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Your Mint Value"}),(0,t.jsxs)("span",{children:["$",Number(aC.toFixed(2)).toLocaleString()]})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Total Mint Value"}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:T().Tooltip,children:(0,t.jsxs)("span",{className:T().tooltipHandle,children:["$",Number(sR.toFixed(2)).toLocaleString()]})})})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsxs)("div",{className:T().label,style:{display:"flex",gap:"5px",alignItems:"center"},children:["APR",(0,t.jsx)("div",{className:"showTip",children:(0,t.jsxs)("div",{className:"qaIcon qaBg",children:[(0,t.jsx)("img",{src:0==v?"/images/icon/qa.svg":"/images/icon/qa_dark.svg",alt:"icon"}),(0,t.jsxs)("div",{className:"tipMain",children:[(0,t.jsx)("div",{className:"tip-trangle-bottom"}),"Accrued esLBR value divided by mint value."]})]})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:T().Tooltip,children:(0,t.jsxs)("span",{className:T().tooltipHandle,children:[eO<=0?Number(aj.toFixed(2)).toLocaleString():Number(aI.toFixed(2)).toLocaleString(),"%"]})})})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsxs)("div",{className:T().label,style:{display:"flex",gap:"5px",alignItems:"center"},children:["Reward Eligibility",(0,t.jsx)("div",{className:"showTip",children:(0,t.jsxs)("div",{className:"qaIcon qaBg",children:[(0,t.jsx)("img",{src:0==v?"/images/icon/qa.svg":"/images/icon/qa_dark.svg",alt:"icon"}),(0,t.jsxs)("div",{className:"tipMain",children:[(0,t.jsx)("div",{className:"tip-trangle-bottom"}),"You need to provide at least 5% mint value in dLP to become eligible for esLBR emission from the mint pool."]})]})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:T().Tooltip,children:(0,t.jsx)("span",{className:T().tooltipHandle,style:s4?{color:"red"}:null,children:s4?"Not Eligible":"Eligible"})})})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Rewards"}),(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"showTip",children:(0,t.jsxs)("div",{className:"qaIcon qaBg",children:[(0,t.jsxs)("span",{className:T().tooltipHandle,children:[Number(eK.toFixed(2)).toLocaleString()," esLBR"]}),(0,t.jsxs)("div",{className:"tipMain",style:{width:"max-content"},children:[(0,t.jsx)("div",{className:"tip-trangle-bottom",style:{right:"20px"}}),(eK/ex*100).toFixed(2)," ","esLBR +"," ",(eK-eK/ex*100).toFixed(2)," ","esLBR"]})]})})})]}),(0,t.jsx)("div",{className:T().cardDivider,style:{height:"0.5px"}}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsxs)("div",{className:T().label,style:{display:"flex",gap:"5px",alignItems:"center"},children:["Redemption Provider Boost",(0,t.jsx)("div",{className:"showTip",children:(0,t.jsxs)("div",{className:"qaIcon qaBg",children:[(0,t.jsx)("img",{src:0==v?"/images/icon/qa.svg":"/images/icon/qa_dark.svg",alt:"icon"}),(0,t.jsxs)("div",{className:"tipMain",children:[(0,t.jsx)("div",{className:"tip-trangle-bottom"}),"Become a Redemption Provider and increase your yield APR by ",sS,"%.",(0,t.jsx)("a",{target:"_blank",rel:"nofollow noopener noreferrer",className:T().linkUnderline,href:"https://docs.lybra.finance/lybra-finance-docs/mechanisms/rigid-redemption-and-eusd-price-stability",children:"More Info"})]})]})}),(0,t.jsx)("input",{className:"switch-btn switch-btn-animbg",type:"checkbox",checked:et,onChange:ec.bind(this)})]}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:T().Tooltip,children:(0,t.jsx)("span",{className:T().tooltipHandle,children:e1?1+sS/100+"x":"None"})})})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsxs)("div",{className:T().label,style:{display:"flex",gap:"5px",alignItems:"center"},children:["Boost Status",(0,t.jsx)("div",{className:"showTip",children:(0,t.jsxs)("div",{className:"qaIcon qaBg",children:[(0,t.jsx)("img",{src:0==v?"/images/icon/qa.svg":"/images/icon/qa_dark.svg",alt:"icon"}),(0,t.jsxs)("div",{className:"tipMain",children:[(0,t.jsx)("div",{className:"tip-trangle-bottom"}),"Your total boost from being redemption provider and locking esLBR."]})]})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:T().Tooltip,children:(0,t.jsx)("span",{className:T().tooltipHandle,children:100==ex?"None":(ex/100).toFixed(2)+"x"})})})]}),(0,t.jsxs)("div",{className:T().cardBottom,children:[(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsxs)("div",{className:"buttonMini",children:[(0,t.jsx)("div",{className:"button blue mini",onClick:()=>s8(!0),children:"Provide dLP"}),(0,t.jsx)(P,{updateIsLoading:sp,updateIsSuccess:sg,functionName:"esLBR",type:"0",rewards:eK,isOtherEarningsClaimable:s4})]})]})]})]}),(0,t.jsxs)("div",{className:T().card,style:{height:"370px"},children:[(0,t.jsxs)("div",{className:"".concat(T().cardTitle," ").concat(T().cardphase),children:[(0,t.jsxs)("div",{className:T().phaseTitle,children:[(0,t.jsx)("img",{src:"images/logo.png",alt:"icon"}),"Stake LBR"]}),(0,t.jsxs)("div",{className:T().addLink,children:[(0,t.jsx)("img",{alt:"icon",src:0==v?"images/icon/add.svg":"images/icon/add_dark.svg"}),(0,t.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://app.uniswap.org/#/swap?inputCurrency=ETH&outputCurrency=0xed1167b6Dc64E8a366DB86F2E952A482D0981ebd",children:"Buy LBR"})]})]}),(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsxs)("div",{className:T().cardContent,children:[(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"esLBR Balance"}),(0,t.jsxs)("span",{children:[Number(e8).toLocaleString()," esLBR"]})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Total esLBR"}),(0,t.jsxs)("span",{children:[Number(e9.toFixed(2)).toLocaleString()," esLBR"]})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Protocol Generated Revenue"}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:T().Tooltip,children:(0,t.jsxs)("span",{className:T().tooltipHandle,children:["$",Number(er).toLocaleString()]})})})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsxs)("div",{className:T().label,style:{display:"flex",gap:"5px",alignItems:"center"},children:["APR",(0,t.jsx)("div",{className:"showTip",children:(0,t.jsxs)("div",{className:"qaIcon qaBg",children:[(0,t.jsx)("img",{src:0==v?"/images/icon/qa.svg":"/images/icon/qa_dark.svg",alt:"icon"}),(0,t.jsxs)("div",{className:"tipMain",children:[(0,t.jsx)("div",{className:"tip-trangle-bottom"}),"Accrued peUSD or USDC value divided by esLBR value."]})]})})]}),(0,t.jsxs)("span",{children:[e9<=0?0:Number(((s_+sy)*1.5/sj/e9).toFixed(2)).toLocaleString(),"%"]})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("span",{className:T().label,children:"Rewards"}),(0,t.jsxs)("span",{children:["$",Number(ss.toFixed(2)).toLocaleString()]})]}),(0,t.jsxs)("div",{className:T().cardBottom,children:[(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsxs)("div",{className:"buttonMini",children:[(0,t.jsxs)("div",{className:"button  mini convert",onClick:()=>eL(0),children:["Stake",(0,t.jsx)("div",{className:"showTip",children:(0,t.jsxs)("div",{className:"qaIcon qaBg",children:[(0,t.jsx)("img",{src:"/images/icon/qa_dark.svg",alt:"icon"}),(0,t.jsxs)("div",{className:"tipMain",style:{bottom:"35px"},children:[(0,t.jsx)("div",{className:"tip-trangle-bottom"}),"Stake LBR to esLBR, in order to share Protocol Generated Revenue from eUSD circulation and peUSD debt repayment fee."]})]})})]}),(0,t.jsx)(P,{updateIsLoading:sp,updateIsSuccess:sg,functionName:"Rewards",type:"1",rewards:ss})]})]})]})]}),(0,t.jsxs)("div",{className:"".concat(T().card," ").concat(T().earnh5Card2),style:{height:"260px"},children:[(0,t.jsxs)("div",{className:"".concat(T().cardTitle," ").concat(T().cardphase),children:[(0,t.jsxs)("div",{className:T().phaseTitle,children:[(0,t.jsx)("img",{src:"images/earn/lbrlp.svg",alt:"lbr/eth"}),"LBR/ETH LP"]}),(0,t.jsxs)("div",{className:T().addLink,children:[(0,t.jsx)("img",{alt:"icon",src:0==v?"images/icon/add.svg":"images/icon/add_dark.svg"}),(0,t.jsx)("a",{target:"_blank",rel:"nofollow noopener noreferrer",href:"https://app.uniswap.org/#/add/v2/ETH/0xed1167b6Dc64E8a366DB86F2E952A482D0981ebd",children:"Provide"})]})]}),(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsxs)("div",{className:T().cardContent,children:[(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"LBR/ETH LP Staked"}),(0,t.jsxs)("span",{children:[Number(e5.toFixed(2)).toLocaleString()," LBR/ETH LP ($",Number((Number(e5)*ab).toFixed(2)).toLocaleString(),")"]})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Total LBR/ETH LP Staked"}),(0,t.jsxs)("span",{children:["$",Number((eC*sj*2*eF/eU).toFixed()).toLocaleString()]})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsxs)("div",{className:T().label,style:{display:"flex",gap:"5px",alignItems:"center"},children:["APR",(0,t.jsx)("div",{className:"showTip",children:(0,t.jsxs)("div",{className:"qaIcon qaBg",children:[(0,t.jsx)("img",{src:0==v?"/images/icon/qa.svg":"/images/icon/qa_dark.svg",alt:"icon"}),(0,t.jsxs)("div",{className:"tipMain",children:[(0,t.jsx)("div",{className:"tip-trangle-bottom"}),"Accrued esLBR value divided by LP value."]})]})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:T().Tooltip,children:(0,t.jsxs)("span",{className:T().tooltipHandle,children:[Number((sb*eg/100).toFixed(2)).toLocaleString(),"%"]})})})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("span",{className:T().label,children:"Rewards"}),(0,t.jsxs)("span",{children:[Number(ez.toFixed(2)).toLocaleString()," esLBR"]})]}),(0,t.jsxs)("div",{className:T().cardBottom,children:[(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsxs)("div",{className:"buttonMini",children:[(0,t.jsxs)("div",{className:T().cardflex,children:[(0,t.jsx)("div",{className:"button blue mini",onClick:()=>eL(2),children:"Stake"}),(0,t.jsx)("div",{className:0==v?"button unstake mini":"button unstake_dark mini",onClick:()=>eL(3),children:"Unstake"})]}),(0,t.jsx)(P,{updateIsLoading:sp,updateIsSuccess:sg,functionName:"esLBR",type:"2",rewards:ez})]})]})]})]})]}):null,(0,t.jsxs)("div",{className:T().card,style:{height:"260px"},children:[(0,t.jsxs)("div",{className:"".concat(T().cardTitle," ").concat(T().cardphase),children:[(0,t.jsxs)("div",{className:T().phaseTitle,children:[" ",(0,t.jsx)("img",{alt:"icon",src:"eUSD/3CRV LP"==ee?"images/earn/eusdlp.svg":"images/earn/peusdlp.svg"}),ee]}),(0,t.jsxs)("div",{className:T().addLink,children:[(0,t.jsx)("img",{src:0==v?"images/icon/add.svg":"images/icon/add_dark.svg",alt:"icon"}),(0,t.jsx)("a",{target:"_blank",href:"eUSD/3CRV LP"==ee?"https://curve.fi/#/ethereum/pools/factory-v2-336/deposit":"https://curve.fi/#/arbitrum/pools/factory-v2-123/deposit",rel:"nofollow noopener noreferrer",children:"Provide"})]})]}),(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsxs)("div",{className:T().cardContent,children:[(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsxs)("div",{className:T().label,children:[ee," Staked"]}),(0,t.jsxs)("span",{children:[Number(e6.toFixed(2))," ",ee]})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsxs)("div",{className:T().label,children:["Total ",ee," Staked"]}),(0,t.jsxs)("span",{children:["$",Number((2*sG*sQ/sz).toFixed(2)).toLocaleString()]})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsxs)("div",{className:T().label,style:{display:"flex",gap:"5px",alignItems:"center"},children:["APR",(0,t.jsx)("div",{className:"showTip",children:(0,t.jsxs)("div",{className:"qaIcon qaBg",children:[(0,t.jsx)("img",{src:0==v?"/images/icon/qa.svg":"/images/icon/qa_dark.svg",alt:"icon"}),(0,t.jsxs)("div",{className:"tipMain",children:[(0,t.jsx)("div",{className:"tip-trangle-bottom"}),"Accrued esLBR value divided by LP value."]})]})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:T().Tooltip,children:"ETH"==J?(0,t.jsxs)("span",{className:T().tooltipHandle,children:[sQ>0?Number((31536e3*sK*sj*sX*sz/sQ/(2*sG)).toFixed(2)).toLocaleString():0,"%"]}):(0,t.jsxs)("span",{className:T().tooltipHandle,children:[sQ>0?Number((31536e3*sK*sj*100*sz/sQ/(2*sG)).toFixed(2)).toLocaleString():0,"%"]})})})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("span",{className:T().label,children:"Rewards"}),(0,t.jsxs)("span",{children:[Number(eQ.toFixed(2)).toLocaleString()," esLBR"]})]}),(0,t.jsxs)("div",{className:T().cardBottom,children:[(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsxs)("div",{className:"buttonMini",children:[(0,t.jsxs)("div",{className:T().cardflex,children:[(0,t.jsx)("div",{className:"button blue mini",onClick:()=>eL(4),children:"Stake"}),(0,t.jsx)("div",{className:0==v?"button unstake mini":"button unstake_dark mini",onClick:()=>eL(5),children:"Unstake"})]}),(0,t.jsx)(P,{updateIsLoading:sp,updateIsSuccess:sg,functionName:"esLBR",type:"3",rewards:eQ,switchNet:J})]})]})]})]})]})})})]}):null,7==ea?(0,t.jsx)("div",{className:"section earnSection",children:(0,t.jsx)("div",{className:"section_w",children:(0,t.jsx)("div",{className:T().earnCards,children:(0,t.jsxs)("div",{className:"".concat(T().card),children:[(0,t.jsxs)("div",{className:T().cardTitle,children:[(0,t.jsx)("img",{src:"images/logo.png",alt:"icon"}),"LBR Vault"]}),(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsxs)("div",{className:T().cardContent,children:[(0,t.jsx)("div",{className:T().htmlBody,dangerouslySetInnerHTML:{__html:"esLBR holders can convert their esLBR to LBR through a vesting process. Once the process is started, esLBR will be linearly converted to LBR over a period of 90 days, a penalty fee ranging from 95% to 25% will be charged where users decide to advance (or speed up) the vesting period."}}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Staked Tokens"}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:T().Tooltip,children:(0,t.jsxs)("span",{className:T().tooltipHandle,children:[Number(e8).toLocaleString()," esLBR"]})})})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Reserved for Vesting"}),(0,t.jsxs)("span",{children:[Number(st.toFixed(2)).toLocaleString()," LBR"]})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Fully Vested Time"}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:T().Tooltip,children:(0,t.jsx)("span",{className:T().tooltipHandle,children:sl||"NA"})})})]}),(0,t.jsxs)("div",{className:T().cardRow,children:[(0,t.jsx)("div",{className:T().label,children:"Claimable"}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:T().Tooltip,children:(0,t.jsxs)("span",{className:T().tooltipHandle,children:[Number(sr.toFixed(2)).toLocaleString()," LBR"]})})})]}),(0,t.jsxs)("div",{className:T().cardBottom,style:{position:"relative",padding:"0"},children:[(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsxs)("div",{className:"buttonMini",children:[(0,t.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,t.jsx)("div",{className:0==v?"button unstake mini convert":"button unstake_dark mini convert",onClick:()=>eL(1),children:"Vest"}),si?(0,t.jsx)("div",{className:st<=0?"button mini disabled":0==v?"button unstake mini convert":"button unstake_dark mini convert",onClick:()=>st>0?ar(!0):null,children:"Advanced Vesting"}):null,st>0?(0,t.jsx)(O,{updateIsLoading:sp,updateIsSuccess:sg,type:"new"}):null]}),(0,t.jsx)(q,{updateIsLoading:sp,updateIsSuccess:sg,claimable:sr})]})]})]})]})})})}):null]}),ev?(0,t.jsx)(Z,{type:e_,propValue:eS,changeShowProp:eN,updateIsLoading:sp,updateIsSuccess:sg}):null,s1?(0,t.jsx)(V,{minted:eO,stakedEth:eA,lpPrice:ab,changeShowDlpProp:s8,updateIsLoading:sp,updateIsSuccess:sg}):null,al?(0,t.jsx)(G,{vesting:st,updateIsLoading:sp,updateIsSuccess:sg,changeShowEarlyProp:ar}):null,su?(0,t.jsx)(S.Z,{}):null,sh?(0,t.jsx)(S.Z,{}):null]})}function X(e){let s,a,n,i;let{buyType:c,addressList:l,totalCost:d,openSwitchUse:u,eUSDBalanceOf:m,lbrBalanceOf:h,grabFeeRatio:p,latestRoundData:g,biddingFeeRatio:b,allowance:v}=e,{setTipMessage:N,EUSDMiningIncentives:S,eusdAbi:f,eUSD:_,EUSDMiningIncentivesAbi:w,ProtocolRewardsPool:y,fundAbi:L,mode:B}=(0,o.useContext)(r.S),[R,E]=(0,o.useState)(!1),[I,k]=(0,o.useState)("Confirm");(0,o.useEffect)(()=>{1==c&&(U(d),u?P(d/g/b):P(d/b))},[c]);let C=e=>{e.stopPropagation()},D=s=>{e.changeShowBountyBuy(s)},F=async e=>{-1!==["-","+","e","E"].indexOf(e.key)&&e.preventDefault()},[H,U]=(0,o.useState)(""),M=(0,o.useRef)(),A=async e=>{U(e.target.value),2==c&&(R?P(e.target.value/g/p):P(e.target.value/p))},[Z,P]=(0,o.useState)(""),q=(0,o.useRef)(),O=async e=>{P(e.target.value),2==c&&(R?U(e.target.value*g*p):U(e.target.value*p))};(0,o.useEffect)(()=>{2==c&&(H&&H>0?R?P(H/g/p):P(H/p):Z&&Z>0&&(R?U(Z*g/p):U(Z*p)))},[H,Z,R]),(0,o.useEffect)(()=>{1==c&&1e14>=Number(v)&&u?k("Approve"):2==c&&1e14>=Number(v)&&R?k("Approve"):k("Confirm")},[v,u,R,c]);let[V,G]=(0,o.useState)(!1);1==c?1e14>=Number(v)&&u?(s="approve",a=_,n=f,i=[S,"115792089237316195423570985008687907853269984665640564039457"]):(s="buyOthersEarnings",a=S,i=[l,u],n=w):1e14>=Number(v)&&R?(s="approve",a=_,n=f,i=[y,"115792089237316195423570985008687907853269984665640564039457"]):(s="grabEsLBR",a=y,i=[new j.Z(Z).multipliedBy(new j.Z(1e18)).toFixed(),R],n=L);let{isLoading:W,write:X,data:Y}=(0,x.GG)({mode:"recklesslyUnprepared",address:a,abi:n,functionName:s,args:i,onSuccess(e){G(!0)},onError(s){G(!1),e.updateIsLoading(!1)}});(0,x.BX)({hash:null==Y?void 0:Y.hash,onSuccess(s){G(!1),e.updateIsLoading(!1),e.updateIsSuccess(!0),N({title:I,type:"success"}),1==c&&e.cancelCheckList(),setTimeout(()=>{e.updateIsSuccess(!1),D()},3e3)}});let K=async()=>{Number(H)>0&&Number(Z)>0&&(N({title:I,type:"loading"}),e.updateIsLoading(!0),X())};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:0==B?"".concat(T().eranProp):"".concat(T().eranProp," ").concat(T().eranProp_dark),onClick:()=>D(!1),children:(0,t.jsxs)("div",{className:T().propMain,onClick:C.bind(this),children:[(0,t.jsxs)("div",{className:"justify_space_between",children:[(0,t.jsx)("p",{children:"BUY"}),(0,t.jsx)("div",{className:T().closeIcon,onClick:()=>D(!1),children:(0,t.jsx)("img",{src:"/images/icon/close.svg",alt:"close"})})]}),(0,t.jsxs)("div",{className:"buyInput",children:[2==c?(0,t.jsxs)("div",{className:"flex_between_end",style:{height:"45px",alignItems:"center"},children:[(0,t.jsxs)("div",{className:T().switchBtn,style:{gap:"10px",display:"flex",alignItems:"center"},children:[(0,t.jsx)("span",{children:"LBR"}),(0,t.jsx)("input",{className:"switch-btn switch-btn-animbg",type:"checkbox",checked:R,onChange:()=>E(!R)}),(0,t.jsx)("span",{children:"eUSD"})]}),(0,t.jsxs)("div",{children:["Available ",(1!=c||u)&&(2!=c||R)?(Math.floor(100*m)/100).toLocaleString()+" eUSD":(Math.floor(100*h)/100).toLocaleString()+" LBR"]})]}):(0,t.jsxs)("p",{className:"buyP",children:["Available ",u?(Math.floor(100*m)/100).toLocaleString()+" eUSD":(Math.floor(100*h)/100).toLocaleString()+" LBR"," "]}),(0,t.jsx)("div",{className:"input propInput",children:(0,t.jsxs)("div",{className:"buyGap",children:[(0,t.jsx)("img",{src:1==c&&u||2==c&&R?"/images/icon/eUSD.svg":"/images/logo.png",alt:"logo"}),(0,t.jsx)("input",{type:"number",onWheel:e=>e.target.blur(),readOnly:1==c,placeholder:"0",id:"lbrNum",onKeyDown:F.bind(this),onChange:A.bind(this),value:H,ref:M}),(0,t.jsx)("span",{style:{fontSize:"18px"},onClick:()=>M.current.focus(),children:(1!=c||u)&&(2!=c||R)?"eUSD":"LBR"})]})}),(0,t.jsx)("div",{className:"arrdown",children:(0,t.jsx)("img",{src:"/images/icon/arrowdown.svg",alt:"arrowdown"})}),(0,t.jsx)("div",{className:"input propInput",children:(0,t.jsxs)("div",{className:"buyGap",children:[(0,t.jsx)("img",{src:"/images/logo.png",alt:"logo"}),(0,t.jsx)("input",{type:"number",onWheel:e=>e.target.blur(),readOnly:1==c,placeholder:"0",id:"esLbrNum",onKeyDown:F.bind(this),onChange:O.bind(this),value:Z,ref:q}),(0,t.jsx)("span",{style:{fontSize:"18px"},onClick:()=>q.current.focus(),children:"esLBR"})]})})]}),(0,t.jsx)("div",{style:{marginTop:"20px"},children:Number(H)>h&&1==c&&!u||Number(H)>h&&2==c||Number(H)>m&&1==c&&u?(0,t.jsxs)("div",{className:"button disabled",children:["Insufficient ",1==c&&u||2==c&&R?"eUSD":"LBR"," Balance"]}):(0,t.jsx)("div",{className:W||V||0>=Number(H)||0>=Number(Z)?"button disabled":"button",onClick:()=>W?null:K(),children:W||V?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{className:"loading",src:"/images/icon/loading.svg",alt:"loading"}),I]}):(0,t.jsx)(t.Fragment,{children:I})})})]})})})}a(19904);var Y=a(6154);function K(){let{address:e,eusdAbi:s,LBR:a,eUSD:n,EUSDMiningIncentives:i,EUSDMiningIncentivesAbi:c,oracleAbi:l,lbrOracle:d,ProtocolRewardsPool:u,fundAbi:m,mode:h,txsEUSDMiningIncentives:p,mainnetNetId:g}=(0,o.useContext)(r.S),[b,v]=(0,o.useState)(0),N=async()=>{let e=p.filters.ClaimedOtherEarnings(null,null,null,null,null,null),s=await p.queryFilter(e,1,"latest"),a=new j.Z(0);if(s.length){for(let e=0;e<s.length;e++)if(!s[e].args.useEUSD){let t=s[e].args.biddingFee;a=a.plus(new j.Z(t._hex).div(new j.Z(1e18)))}v(a.toFixed(2))}};(0,o.useEffect)(()=>{N()});let[f,_]=(0,o.useState)(!1),[w,y]=(0,o.useState)(!1),L=async e=>{_(e)},B=async e=>{y(e)},[R,E]=(0,o.useState)(!1),I=e=>{E(e)},[k,C]=(0,o.useState)(0),D=(e,s)=>{E(!0),C(e)},[F,H]=(0,o.useState)([]),U=async()=>{let e=await Y.Z.get("https://v2-mainnet-api.lybra.finance/user/claimable/list"),s=e.data;0==s.code&&H(s.data)};(0,o.useEffect)(()=>{U()});let[M,A]=(0,o.useState)([]),[Z,P]=(0,o.useState)(0),q=(e,s)=>{let a=[...M],t=a.indexOf(e);-1===t?a.push(e):a.splice(t,1),A(a);let n=new j.Z(s).div(new j.Z(1e18)).toFixed();a.length<=0?P(0):P(-1===t?new j.Z(Z).toNumber()+new j.Z(n).toNumber():new j.Z(Z).toNumber()-new j.Z(n).toNumber())},[O,V]=(0,o.useState)(!1),[G,W]=(0,o.useState)(0);(0,x.do)({address:a,abi:s,functionName:"balanceOf",args:[e],watch:!0,onSuccess(e){W(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let[K,$]=(0,o.useState)(0);(0,x.do)({address:n,abi:s,functionName:"balanceOf",args:[e],watch:!0,onSuccess(e){$(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let[z,J]=(0,o.useState)(0);(0,x.do)({address:i,abi:c,functionName:"biddingFeeRatio",watch:!0,onSuccess(e){J(new j.Z(e._hex).toFixed()/1e4)}});let[Q,ee]=(0,o.useState)(0);(0,x.do)({address:d,abi:l,functionName:"latestRoundData",watch:!0,onSuccess(e){ee(new j.Z(e[1]._hex).div(new j.Z(1e8)).toFixed())}});let[es,ea]=(0,o.useState)(0);(0,o.useEffect)(()=>{O?ea(Z*Q*z):ea(Z*z)},[Z,O]);let et=()=>{var e=document.getElementsByClassName("checkAddress");F.forEach((s,a)=>{e[a].checked=!1}),ea(0),P(0),A([])},[en,ei]=(0,o.useState)(0);(0,x.do)({address:u,abi:m,functionName:"grabableAmount",watch:!0,onSuccess(e){ei(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}});let[ec,el]=(0,o.useState)(0);(0,x.do)({address:u,abi:m,functionName:"grabFeeRatio",watch:!0,onSuccess(e){el(new j.Z(e._hex).toFixed()/1e4)}});let[eo,er]=(0,o.useState)(0);return(0,x.do)({address:n,abi:s,functionName:"allowance",args:[e,1==k?i:u],watch:!0,chainId:g,onSuccess(e){er(new j.Z(e._hex).div(new j.Z(1e18)).toFixed())}}),(0,t.jsxs)("div",{className:0==h?"".concat(T().earn):"".concat(T().earn," ").concat(T().earn_dark," ","globals_dark"),children:[(0,t.jsx)("div",{className:"section earnSection",children:(0,t.jsx)("div",{className:"section_w",children:(0,t.jsxs)("div",{className:T().earnCards,children:[(0,t.jsxs)("div",{className:T().card,style:{height:"420px"},children:[(0,t.jsx)("div",{className:"".concat(T().cardTitle," ").concat(T().cardphase),style:{marginBottom:"0"},children:(0,t.jsxs)("div",{className:T().phaseTitle,children:[(0,t.jsx)("img",{src:"images/logo.png",alt:"logo"}),"dLP Bounty",(0,t.jsx)("div",{className:"showTip",children:(0,t.jsxs)("div",{className:"qaIcon qaBg iconTop",children:[(0,t.jsx)("img",{src:0==h?"/images/icon/qa.svg":"/images/icon/qa_dark.svg",alt:"qa"}),(0,t.jsxs)("div",{className:"tipMain dLPMain",children:[(0,t.jsx)("div",{className:"tip-trangle-bottom",style:{right:"272px"}}),(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:"When a qualifier's dLP value drops below the minimum 5% threshold, the user will become ineligible for subsequent esLBR emissions.<br/><br/> The esLBR can then be purchased by any user with LBR or eUSD at a 50% discount. The LBR paid will be subsequently burnt. (Note: you can only buy the full amount.)<br/> <br/> As of the present, a total of <span >"+b+" LBR</span> has been burnt."}})]})]})})]})}),(0,t.jsxs)("div",{className:"flex_between_end",style:{height:"45px",alignItems:"center"},children:[(0,t.jsxs)("div",{className:T().switchBtn,style:{gap:"10px",display:"flex",alignItems:"center"},children:[(0,t.jsx)("span",{children:"LBR"}),(0,t.jsx)("input",{className:"switch-btn switch-btn-animbg",type:"checkbox",checked:O,onChange:()=>V(!O)}),(0,t.jsx)("span",{children:"eUSD"})]}),(0,t.jsxs)("div",{children:["Available ",O?(Math.floor(100*K)/100).toLocaleString()+" eUSD":(Math.floor(100*G)/100).toLocaleString()+" LBR"]})]}),(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsxs)("div",{className:T().tabItem,children:[(0,t.jsx)("p",{style:{width:"10%"}}),(0,t.jsx)("p",{style:{width:"45%"},children:"Address"}),(0,t.jsx)("p",{style:{width:"45%"},children:"Bounty"})]}),(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsx)("div",{style:{height:"182px",overflowY:"auto"},children:F.map((e,s)=>(0,t.jsxs)("div",{className:T().tabItem,style:.01>=Number(e.amount/1e18)?{display:"none"}:{display:"flex"},children:[(0,t.jsx)("div",{style:{width:"10%"},children:(0,t.jsx)("input",{type:"checkbox",className:"checkAddress",name:"checkAddress",id:"",value:e.address,onChange:()=>q(e.address,e.amount)})}),(0,t.jsx)("div",{style:{width:"45%"},children:e.address.slice(0,4)+".."+e.address.slice(-4)}),(0,t.jsxs)("div",{style:{width:"45%"},children:[(0,t.jsx)("img",{src:"/images/logo.png",alt:"logo"})," ",(e.amount/1e18).toFixed(4)," esLBR"]})]},s))}),(0,t.jsxs)("div",{className:T().totalCost,children:["Total cost: ",Number(es.toFixed(2)).toLocaleString()," ",O?"eUSD":"LBR"]}),(0,t.jsxs)("div",{className:T().cardBottom,children:[(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsx)("div",{className:"buttonMini",style:{justifyContent:"center"},children:(0,t.jsx)("div",{className:"button blue mini",style:{width:"150px"},onClick:()=>D(1),children:"Buy"})})]})]}),(0,t.jsxs)("div",{className:T().card,style:{height:"420px"},children:[(0,t.jsx)("div",{className:"".concat(T().cardTitle," ").concat(T().cardphase),children:(0,t.jsxs)("div",{className:T().phaseTitle,children:[" ",(0,t.jsx)("img",{src:"images/logo.png",alt:"logo"}),"Vesting Penalty"]})}),(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsx)("p",{className:T().eslbrInfo,children:"All esLBR from the advanced vesting penalty is shown below. They can be purchased by any user with LBR or eUSD at a 50% discount. The LBR paid will be subsequently burnt."}),(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsxs)("div",{className:T().eslbrLogo,children:[(0,t.jsx)("img",{src:"/images/logo.png",alt:"logo"}),Number(en).toLocaleString()," esLBR"]}),(0,t.jsxs)("div",{className:T().cardBottom,children:[(0,t.jsx)("div",{className:T().cardDivider}),(0,t.jsx)("div",{className:"buttonMini",style:{justifyContent:"center"},children:(0,t.jsx)("div",{className:"button blue mini",style:{width:"150px"},onClick:()=>D(2),children:"Buy"})})]})]})]})})}),R?(0,t.jsx)(X,{allowance:eo,biddingFeeRatio:z,latestRoundData:Q,grabFeeRatio:ec,cancelCheckList:et,buyType:k,lbrBalanceOf:G,eUSDBalanceOf:K,addressList:M,totalesLBR:0,totalCost:es,openSwitchUse:O,changeShowBountyBuy:I,updateIsLoading:L,updateIsSuccess:B}):null,f?(0,t.jsx)(S.Z,{}):null,w?(0,t.jsx)(S.Z,{}):null]})}function $(){let{setCoinType:e,menuIndex:s,setMenuIndex:a,mode:c}=(0,o.useContext)(r.S),d=async s=>{a(s),0==s?e("ETH"):e("stETH")},[u,m]=(0,o.useState)(!1),h=e=>{m(e)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Z,{id:"dashboard"}),(0,t.jsx)("div",{className:0==c?"".concat(l().dashboard):"".concat(l().dashboard," ").concat(l().dashboard_dark),children:(0,t.jsx)("div",{className:"section",children:(0,t.jsxs)("div",{className:l().main,children:[(0,t.jsxs)("div",{className:l().left,children:[(0,t.jsx)("span",{className:"font_gray_12",children:"DASHBOARD"}),(0,t.jsxs)("div",{className:"".concat(l().titleList," ").concat(l().bottom_border),children:[(0,t.jsx)("div",{className:0==s?"".concat(l().titleItem," ").concat(l().active):"".concat(l().titleItem),style:{gap:"2px"},onClick:()=>d(0),children:(0,t.jsxs)("div",{children:[(0,t.jsx)("img",{alt:"icon",src:"/images/icon/icon01.svg"}),(0,t.jsx)("p",{children:"Deposit"})]})}),(0,t.jsxs)("div",{className:1==s?"".concat(l().titleItem," ").concat(l().active):"".concat(l().titleItem),onClick:()=>d(1),children:[(0,t.jsx)("img",{alt:"icon",src:"/images/icon/icon03.svg"}),(0,t.jsx)("p",{children:"Withdraw"})]}),(0,t.jsxs)("div",{className:2==s?"".concat(l().titleItem," ").concat(l().active):"".concat(l().titleItem),onClick:()=>d(2),children:[(0,t.jsx)("img",{alt:"icon",src:"/images/icon/icon04.svg"}),(0,t.jsx)("p",{children:"Repay"})]}),(0,t.jsxs)("div",{className:3==s?"".concat(l().titleItem," ").concat(l().active):"".concat(l().titleItem),onClick:()=>d(3),children:[(0,t.jsx)("img",{alt:"icon",src:"/images/icon/icon05.svg"}),(0,t.jsx)("p",{children:"Redeem"})]})]}),(0,t.jsx)("div",{className:4==s?"".concat(l().omnichain," ").concat(l().active):"".concat(l().omnichain),onClick:()=>d(4),children:(0,t.jsxs)("p",{className:l().omnichainImg,children:[(0,t.jsx)("img",{alt:"icon",src:"/images/icon/icon06.svg"}),"Omnichain"]})}),(0,t.jsx)("span",{className:"font_gray_12",children:"EARN"}),(0,t.jsxs)("div",{className:"".concat(l().titleList," "),children:[(0,t.jsxs)("div",{className:5==s?"".concat(l().titleItem," ").concat(l().active):"".concat(l().titleItem),onClick:()=>d(5),children:[(0,t.jsx)("img",{alt:"icon",src:"/images/icon/icon07.svg"}),(0,t.jsx)("p",{children:"Boost"})]}),(0,t.jsxs)("div",{className:6==s?"".concat(l().titleItem," ").concat(l().active):"".concat(l().titleItem),onClick:()=>d(6),children:[(0,t.jsx)("img",{alt:"icon",src:"/images/icon/icon08.svg"}),(0,t.jsx)("p",{children:"Earn"})]}),(0,t.jsxs)("div",{className:7==s?"".concat(l().titleItem," ").concat(l().active):"".concat(l().titleItem),onClick:()=>d(7),children:[(0,t.jsx)("img",{alt:"icon",src:"/images/icon/icon09.svg"}),(0,t.jsx)("p",{children:"Vest"})]}),(0,t.jsxs)("div",{className:8==s?"".concat(l().titleItem," ").concat(l().active):"".concat(l().titleItem),onClick:()=>d(8),children:[(0,t.jsx)("img",{alt:"icon",src:"/images/icon/icon10.svg"}),(0,t.jsx)("p",{children:"Bounty"})]})]})]}),(0,t.jsxs)("div",{className:l().right,children:[s<5?(0,t.jsx)(M,{menuIndex:s,changeShowLoadingDash:h}):s<8?(0,t.jsx)(W,{menuIndex:s}):(0,t.jsx)(K,{}),u?(0,t.jsx)("div",{className:"loadingDash",children:(0,t.jsx)("img",{alt:"icon",src:"images/icon/load.svg"})}):null]})]})})}),(0,t.jsx)(i.Z,{id:"dashboard"})]})}},3627:function(e){e.exports={dashboardMain:"dashboard_dashboardMain__gaAby",dashMain:"dashboard_dashMain__RLWHd",topCoinList:"dashboard_topCoinList__Jfzsu",coinItem:"dashboard_coinItem__xqq9j",optional:"dashboard_optional__cEmZ_",active:"dashboard_active__IkJ3q",operateMain:"dashboard_operateMain__lxNsU",typeTitle:"dashboard_typeTitle__I10db",top:"dashboard_top__iG9w0",main:"dashboard_main__9yhn2",available:"dashboard_available__UWar9",bottomBut:"dashboard_bottomBut__LbG2x",operateDesc:"dashboard_operateDesc__8KRtK",dashInfo:"dashboard_dashInfo__Qokt4",dataList:"dashboard_dataList__zmpq6",dataItem:"dashboard_dataItem__e14pg",ratio:"dashboard_ratio__vwDpL",overview:"dashboard_overview__ap_IR",contracts:"dashboard_contracts__LWOiw",item:"dashboard_item__Cq4RT",visibleHistory:"dashboard_visibleHistory___ElVI",eusdApy:"dashboard_eusdApy__f8uHl",willReceive:"dashboard_willReceive__vxyQo",rateSetting:"dashboard_rateSetting__Ov2_u",on:"dashboard_on__g8rJu",off:"dashboard_off__ftgYn",showTip:"dashboard_showTip__RI6V_",tipMain:"dashboard_tipMain__98VqD",qaIcon:"dashboard_qaIcon__gBoYt",omniChain:"dashboard_omniChain__INr3L",omniChainFromTo:"dashboard_omniChainFromTo__XTxZ7",omniChainAmount:"dashboard_omniChainAmount__Wt03d",doubleItem:"dashboard_doubleItem__aigcz",w70:"dashboard_w70__2pvAz",w30:"dashboard_w30__qU9HA",omniSelect:"dashboard_omniSelect__JDakA",selectName:"dashboard_selectName__Q2u0d",selectItem:"dashboard_selectItem__OKmxU",coin:"dashboard_coin__RRQqd",refresh:"dashboard_refresh__7FzUc",omniChainBottom:"dashboard_omniChainBottom___Co9Z",dashboardMain_dark:"dashboard_dashboardMain_dark__i_j97",selectDiv:"dashboard_selectDiv__zvgiE"}},27102:function(e){e.exports={earn:"earn_earn__Vkhc1","App-box":"earn_App-box__MGgrn",card:"earn_card__b1uMG","card-primary":"earn_card-primary__7u5yc","App-box-highlight":"earn_App-box-highlight__GPYRg","App-box-solid":"earn_App-box-solid__hvEYP",cardBottom:"earn_cardBottom__I0_W4",cardDivider:"earn_cardDivider__lFsAF",cardBottomPlaceholder:"earn_cardBottomPlaceholder__c2wJ_",Page:"earn_Page__WN411",PageTitle:"earn_PageTitle__29HMC",PageDescription:"earn_PageDescription__51kUE",cardflex:"earn_cardflex__dEXdp",cardTitle:"earn_cardTitle__CmQqI",cardphase:"earn_cardphase__jV8Ep",phaseTitle:"earn_phaseTitle__bFoDS",phaseChange:"earn_phaseChange__FTLER",cardContent:"earn_cardContent__yKksJ",cardRow:"earn_cardRow__Hx7Zf",inner:"earn_inner__mECj7",icon:"earn_icon__I8qvk",cardOptions:"earn_cardOptions__rLYm4",cardOption:"earn_cardOption__IWHJ_",TabTitleSection:"earn_TabTitleSection__vvvPD",boostQa:"earn_boostQa__3hgPK",tipMain:"earn_tipMain__JrUfU",earnCards:"earn_earnCards__9Zxca",selectDuration:"earn_selectDuration__J6cuv",connectButton:"earn_connectButton__N_L_4",htmlBody:"earn_htmlBody__F_2Iz",mainCard:"earn_mainCard__7c9pi",boostCard:"earn_boostCard__eFkOb",boostTipCard:"earn_boostTipCard__cwiLz",earnh5Card:"earn_earnh5Card__fHHqR",earnh5Card2:"earn_earnh5Card2__30hle",propMain:"earn_propMain__IO3lM",eslbrInfo:"earn_eslbrInfo__lwe7O",eslbrLogo:"earn_eslbrLogo__7t7Gq",eranProp:"earn_eranProp__4oE0F",switchBtn:"earn_switchBtn__7E3aB",propInput:"earn_propInput__aqjcU",eranProp_dark:"earn_eranProp_dark__RNZh7",closeIcon:"earn_closeIcon__mY307",linkUnderline:"earn_linkUnderline__H2nN6",cardRowcenter:"earn_cardRowcenter__g5cdj",fillalitem:"earn_fillalitem__udSrx",filled:"earn_filled__YX1yq",filledBg:"earn_filledBg__7b5mT",filledtext:"earn_filledtext__FMs_Y",active:"earn_active__mMYCc",addLink:"earn_addLink__MLDN9",tabItem:"earn_tabItem__ST764",totalCost:"earn_totalCost__yIrMB",earn_dark:"earn_earn_dark__4FVjU"}},58507:function(e){e.exports={prop:"protectionSettings_prop__5uPmf",propMain:"protectionSettings_propMain__QmGXp",title:"protectionSettings_title__otU_L",note:"protectionSettings_note__9zV5N",propCenter:"protectionSettings_propCenter__LtTl1",propInput:"protectionSettings_propInput__Swiij",propInfo:"protectionSettings_propInfo__FjRp_",openSwitch:"protectionSettings_openSwitch__3CeOO",valueInput:"protectionSettings_valueInput__Mbvd_",input:"protectionSettings_input__4vFPN",approximate:"protectionSettings_approximate__SlNSB",or:"protectionSettings_or__VMhCN",button:"protectionSettings_button__Vw_2F",prop_dark:"protectionSettings_prop_dark__EzpVC",closeIcon:"protectionSettings_closeIcon__HECOr",setting:"protectionSettings_setting__CGH9j",switch_btn:"protectionSettings_switch_btn__KyibA",switch_btn_animbg:"protectionSettings_switch_btn_animbg__foooD",switchSpan:"protectionSettings_switchSpan__Sursy",open:"protectionSettings_open__7tGhd",close:"protectionSettings_close__V_BtS",autoMain:"protectionSettings_autoMain__uuVxa",valueData:"protectionSettings_valueData__HSQSW"}},13684:function(e){e.exports={dashboard:"dashboard_dashboard__v4TLo",main:"dashboard_main__pzjTy",left:"dashboard_left__57Tio",titleList:"dashboard_titleList__aPG6z",bottom_border:"dashboard_bottom_border__wk_4_",titleItem:"dashboard_titleItem__NyrD1",mint:"dashboard_mint__SZufI",active:"dashboard_active__PWVBB",omnichain:"dashboard_omnichain__6nvS4",omnichainImg:"dashboard_omnichainImg__QBXIP",right:"dashboard_right___hw_5",dashboard_dark:"dashboard_dashboard_dark__B1XVY"}}},function(e){e.O(0,[8543,8435,8764,6154,1522,9774,2888,179],function(){return e(e.s=51075)}),_N_E=e.O()}]);